{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"expo-errors","data":{"isAsync":false}},{"name":"./ExponentWebBrowser","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _expoErrors = _$$_REQUIRE(_dependencyMap[3], \"expo-errors\");\n\n  var _ExponentWebBrowser = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./ExponentWebBrowser\"));\n\n  function openBrowserAsync(url) {\n    return _regenerator.default.async(function openBrowserAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (_ExponentWebBrowser.default.openBrowserAsync) {\n              _context.next = 2;\n              break;\n            }\n\n            throw new _expoErrors.UnavailabilityError('WebBrowser', 'openBrowserAsync');\n\n          case 2:\n            return _context.abrupt(\"return\", _ExponentWebBrowser.default.openBrowserAsync(url));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function dismissBrowser() {\n    if (!_ExponentWebBrowser.default.dismissBrowser) {\n      throw new _expoErrors.UnavailabilityError('WebBrowser', 'dismissBrowser');\n    }\n\n    _ExponentWebBrowser.default.dismissBrowser();\n  }\n\n  function openAuthSessionAsync(url, redirectUrl) {\n    return _regenerator.default.async(function openAuthSessionAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!_authSessionIsNativelySupported()) {\n              _context2.next = 6;\n              break;\n            }\n\n            if (_ExponentWebBrowser.default.openAuthSessionAsync) {\n              _context2.next = 3;\n              break;\n            }\n\n            throw new _expoErrors.UnavailabilityError('WebBrowser', 'openAuthSessionAsync');\n\n          case 3:\n            return _context2.abrupt(\"return\", _ExponentWebBrowser.default.openAuthSessionAsync(url, redirectUrl));\n\n          case 6:\n            return _context2.abrupt(\"return\", _openAuthSessionPolyfillAsync(url, redirectUrl));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function dismissAuthSession() {\n    if (_authSessionIsNativelySupported()) {\n      if (!_ExponentWebBrowser.default.dismissAuthSession) {\n        throw new _expoErrors.UnavailabilityError('WebBrowser', 'dismissAuthSession');\n      }\n\n      _ExponentWebBrowser.default.dismissAuthSession();\n    } else {\n      if (!_ExponentWebBrowser.default.dismissBrowser) {\n        throw new _expoErrors.UnavailabilityError('WebBrowser', 'dismissAuthSession');\n      }\n\n      _ExponentWebBrowser.default.dismissBrowser();\n    }\n  }\n\n  function _authSessionIsNativelySupported() {\n    if (_reactNative.Platform.OS === 'android') {\n      return false;\n    }\n\n    var versionNumber = parseInt(String(_reactNative.Platform.Version), 10);\n    return versionNumber >= 11;\n  }\n\n  var _redirectHandler = null;\n\n  function _openAuthSessionPolyfillAsync(startUrl, returnUrl) {\n    return _regenerator.default.async(function _openAuthSessionPolyfillAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!_redirectHandler) {\n              _context3.next = 2;\n              break;\n            }\n\n            throw new Error(\"The WebBrowser's auth session is in an invalid state with a redirect handler set when it should not be\");\n\n          case 2:\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _regenerator.default.awrap(Promise.race([openBrowserAsync(startUrl), _waitForRedirectAsync(returnUrl)]));\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n            _context3.prev = 6;\n            dismissBrowser();\n\n            if (_redirectHandler) {\n              _context3.next = 10;\n              break;\n            }\n\n            throw new Error(\"The WebBrowser auth session is in an invalid state with no redirect handler when one should be set\");\n\n          case 10:\n            _reactNative.Linking.removeEventListener('url', _redirectHandler);\n\n            _redirectHandler = null;\n            return _context3.finish(6);\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, this, [[2,, 6, 13]]);\n  }\n\n  function _waitForRedirectAsync(returnUrl) {\n    return new Promise(function (resolve) {\n      _redirectHandler = function _redirectHandler(event) {\n        if (event.url.startsWith(returnUrl)) {\n          resolve({\n            url: event.url,\n            type: 'success'\n          });\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', _redirectHandler);\n    });\n  }\n\n  var _default = {\n    openBrowserAsync: openBrowserAsync,\n    openAuthSessionAsync: openAuthSessionAsync,\n    dismissBrowser: dismissBrowser,\n    dismissAuthSession: dismissAuthSession\n  };\n  exports.default = _default;\n});","map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,4,0],[17,11,4,15,"openBrowserAsync"],[17,27,4,0],[17,28,4,32,"url"],[17,31,4,0],[18,0,4,0],[19,0,4,0],[20,0,4,0],[21,0,4,0],[22,0,4,0],[22,16,5,9,"ExponentWebBrowser"],[22,44,5,28,"openBrowserAsync"],[22,60,4,0],[23,0,4,0],[24,0,4,0],[25,0,4,0],[27,0,4,0],[27,18,6,14],[27,22,6,18,"UnavailabilityError"],[27,53,6,14],[27,54,6,38],[27,66,6,14],[27,68,6,52],[27,86,6,14],[27,87,4,0],[29,0,4,0],[30,0,4,0],[30,45,8,11,"ExponentWebBrowser"],[30,73,8,30,"openBrowserAsync"],[30,89,8,11],[30,90,8,47,"url"],[30,93,8,11],[30,94,4,0],[32,0,4,0],[33,0,4,0],[34,0,4,0],[35,0,4,0],[36,0,4,0],[37,0,4,0],[38,0,4,0],[40,0,10,0],[40,11,10,9,"dismissBrowser"],[40,25,10,0],[40,28,10,26],[41,0,11,4],[41,8,11,8],[41,9,11,9,"ExponentWebBrowser"],[41,37,11,28,"dismissBrowser"],[41,51,11,4],[41,53,11,44],[42,0,12,8],[42,12,12,14],[42,16,12,18,"UnavailabilityError"],[42,47,12,14],[42,48,12,38],[42,60,12,14],[42,62,12,52],[42,78,12,14],[42,79,12,8],[43,0,13,5],[45,0,14,4,"ExponentWebBrowser"],[45,32,14,23,"dismissBrowser"],[45,46,14,4],[46,0,15,1],[48,0,16,0],[48,11,16,15,"openAuthSessionAsync"],[48,31,16,0],[48,32,16,36,"url"],[48,35,16,0],[48,37,16,41,"redirectUrl"],[48,48,16,0],[49,0,16,0],[50,0,16,0],[51,0,16,0],[52,0,16,0],[53,0,16,0],[53,17,17,8,"_authSessionIsNativelySupported"],[53,48,17,39],[53,50,16,0],[54,0,16,0],[55,0,16,0],[56,0,16,0],[58,0,16,0],[58,16,18,13,"ExponentWebBrowser"],[58,44,18,32,"openAuthSessionAsync"],[58,64,16,0],[59,0,16,0],[60,0,16,0],[61,0,16,0],[63,0,16,0],[63,18,19,18],[63,22,19,22,"UnavailabilityError"],[63,53,19,18],[63,54,19,42],[63,66,19,18],[63,68,19,56],[63,90,19,18],[63,91,16,0],[65,0,16,0],[66,0,16,0],[66,46,21,15,"ExponentWebBrowser"],[66,74,21,34,"openAuthSessionAsync"],[66,94,21,15],[66,95,21,55,"url"],[66,98,21,15],[66,100,21,60,"redirectUrl"],[66,111,21,15],[66,112,16,0],[68,0,16,0],[69,0,16,0],[69,46,24,15,"_openAuthSessionPolyfillAsync"],[69,75,24,44],[69,76,24,45,"url"],[69,79,24,44],[69,81,24,50,"redirectUrl"],[69,92,24,44],[69,93,16,0],[71,0,16,0],[72,0,16,0],[73,0,16,0],[74,0,16,0],[75,0,16,0],[76,0,16,0],[77,0,16,0],[79,0,27,0],[79,11,27,9,"dismissAuthSession"],[79,29,27,0],[79,32,27,30],[80,0,28,4],[80,8,28,8,"_authSessionIsNativelySupported"],[80,39,28,39],[80,41,28,4],[80,43,28,43],[81,0,29,8],[81,10,29,12],[81,11,29,13,"ExponentWebBrowser"],[81,39,29,32,"dismissAuthSession"],[81,57,29,8],[81,59,29,52],[82,0,30,12],[82,14,30,18],[82,18,30,22,"UnavailabilityError"],[82,49,30,18],[82,50,30,42],[82,62,30,18],[82,64,30,56],[82,84,30,18],[82,85,30,12],[83,0,31,9],[85,0,32,8,"ExponentWebBrowser"],[85,34,32,27,"dismissAuthSession"],[85,52,32,8],[86,0,33,5],[86,5,28,4],[86,11,34,9],[87,0,35,8],[87,10,35,12],[87,11,35,13,"ExponentWebBrowser"],[87,39,35,32,"dismissBrowser"],[87,53,35,8],[87,55,35,48],[88,0,36,12],[88,14,36,18],[88,18,36,22,"UnavailabilityError"],[88,49,36,18],[88,50,36,42],[88,62,36,18],[88,64,36,56],[88,84,36,18],[88,85,36,12],[89,0,37,9],[91,0,38,8,"ExponentWebBrowser"],[91,34,38,27,"dismissBrowser"],[91,48,38,8],[92,0,39,5],[93,0,40,1],[95,0,42,0],[95,11,42,9,"_authSessionIsNativelySupported"],[95,42,42,0],[95,45,42,43],[96,0,43,4],[96,8,43,8,"Platform"],[96,30,43,17,"OS"],[96,32,43,8],[96,37,43,24],[96,46,43,4],[96,48,43,35],[97,0,44,8],[97,13,44,15],[97,18,44,8],[98,0,45,5],[100,0,46,4],[100,8,46,10,"versionNumber"],[100,21,46,23],[100,24,46,26,"parseInt"],[100,32,46,34],[100,33,46,35,"String"],[100,39,46,41],[100,40,46,42,"Platform"],[100,62,46,51,"Version"],[100,69,46,41],[100,70,46,34],[100,72,46,61],[100,74,46,34],[100,75,46,4],[101,0,47,4],[101,11,47,11,"versionNumber"],[101,24,47,24],[101,28,47,28],[101,30,47,4],[102,0,48,1],[104,0,49,0],[104,6,49,4,"_redirectHandler"],[104,22,49,20],[104,25,49,23],[104,29,49,0],[106,0,50,0],[106,11,50,15,"_openAuthSessionPolyfillAsync"],[106,40,50,0],[106,41,50,45,"startUrl"],[106,49,50,0],[106,51,50,55,"returnUrl"],[106,60,50,0],[107,0,50,0],[108,0,50,0],[109,0,50,0],[110,0,50,0],[111,0,50,0],[111,17,51,8,"_redirectHandler"],[111,33,50,0],[112,0,50,0],[113,0,50,0],[114,0,50,0],[116,0,50,0],[116,18,52,14],[116,22,52,18,"Error"],[116,27,52,14],[116,133,50,0],[118,0,50,0],[119,0,50,0],[120,0,50,0],[121,0,50,0],[121,46,55,21,"Promise"],[121,53,55,28],[121,54,55,29,"race"],[121,58,55,21],[121,59,55,34],[121,60,55,35,"openBrowserAsync"],[121,76,55,51],[121,77,55,52,"startUrl"],[121,85,55,51],[121,86,55,34],[121,88,55,63,"_waitForRedirectAsync"],[121,109,55,84],[121,110,55,85,"returnUrl"],[121,119,55,84],[121,120,55,34],[121,121,55,21],[121,122,50,0],[123,0,50,0],[124,0,50,0],[126,0,50,0],[127,0,50,0],[128,0,58,8,"dismissBrowser"],[128,12,58,8,"dismissBrowser"],[128,26,58,22],[130,0,50,0],[130,16,59,13,"_redirectHandler"],[130,32,50,0],[131,0,50,0],[132,0,50,0],[133,0,50,0],[135,0,50,0],[135,18,60,18],[135,22,60,22,"Error"],[135,27,60,18],[135,129,50,0],[137,0,50,0],[138,0,62,8,"Linking"],[138,33,62,16,"removeEventListener"],[138,52,62,8],[138,53,62,36],[138,58,62,8],[138,60,62,43,"_redirectHandler"],[138,76,62,8],[140,0,63,8,"_redirectHandler"],[140,12,63,8,"_redirectHandler"],[140,28,63,24],[140,31,63,27],[140,35,63,8],[141,0,50,0],[143,0,50,0],[144,0,50,0],[145,0,50,0],[146,0,50,0],[147,0,50,0],[148,0,50,0],[149,0,50,0],[151,0,66,0],[151,11,66,9,"_waitForRedirectAsync"],[151,32,66,0],[151,33,66,31,"returnUrl"],[151,42,66,0],[151,44,66,42],[152,0,67,4],[152,11,67,11],[152,15,67,15,"Promise"],[152,22,67,11],[152,23,67,23],[152,33,67,23,"resolve"],[152,40,67,30],[152,42,67,34],[153,0,68,8,"_redirectHandler"],[153,6,68,8,"_redirectHandler"],[153,22,68,24],[153,25,68,27],[153,51,68,28,"event"],[153,56,68,27],[153,58,68,38],[154,0,69,12],[154,12,69,16,"event"],[154,17,69,21],[154,18,69,22,"url"],[154,21,69,16],[154,22,69,26,"startsWith"],[154,32,69,16],[154,33,69,37,"returnUrl"],[154,42,69,16],[154,43,69,12],[154,45,69,49],[155,0,70,16,"resolve"],[155,10,70,16,"resolve"],[155,17,70,23],[155,18,70,24],[156,0,70,26,"url"],[156,12,70,26,"url"],[156,15,70,29],[156,17,70,31,"event"],[156,22,70,36],[156,23,70,37,"url"],[156,26,70,24],[157,0,70,42,"type"],[157,12,70,42,"type"],[157,16,70,46],[157,18,70,48],[158,0,70,24],[158,11,70,23],[158,12,70,16],[159,0,71,13],[160,0,72,9],[160,7,68,8],[162,0,73,8,"Linking"],[162,27,73,16,"addEventListener"],[162,43,73,8],[162,44,73,33],[162,49,73,8],[162,51,73,40,"_redirectHandler"],[162,67,73,8],[163,0,74,5],[163,5,67,11],[163,6,67,4],[164,0,75,1],[166,17,76,15],[167,0,77,4,"openBrowserAsync"],[167,4,77,4,"openBrowserAsync"],[167,20,77,20],[167,22,77,4,"openBrowserAsync"],[167,38,76,15],[168,0,78,4,"openAuthSessionAsync"],[168,4,78,4,"openAuthSessionAsync"],[168,24,78,24],[168,26,78,4,"openAuthSessionAsync"],[168,46,76,15],[169,0,79,4,"dismissBrowser"],[169,4,79,4,"dismissBrowser"],[169,18,79,18],[169,20,79,4,"dismissBrowser"],[169,34,76,15],[170,0,80,4,"dismissAuthSession"],[170,4,80,4,"dismissAuthSession"],[170,22,80,22],[170,24,80,4,"dismissAuthSession"],[171,0,76,15],[171,3]]},"type":"js/module"}]}