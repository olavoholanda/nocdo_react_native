{"dependencies":[{"name":"./parseUri","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var parseUri = _$$_REQUIRE(_dependencyMap[0], \"./parseUri\");\n\n  function sortedQuery(query) {\n    var keys = [],\n        name,\n        i,\n        len,\n        key,\n        sorted = [];\n\n    for (name in query) {\n      for (i = 0, len = keys.length; i < len; i++) {\n        if (keys[i] >= name) break;\n      }\n\n      keys.splice(i, 0, name);\n    }\n\n    for (i = 0, len = keys.length; i < len; i++) {\n      key = keys[i];\n      sorted.push(key + \"=\" + query[key]);\n    }\n\n    if (sorted.length !== 0) return sorted.join(\"&\");\n  }\n\n  ;\n\n  function isSet(value) {\n    if (value !== undefined && value !== null) return value !== '';\n    return false;\n  }\n\n  function value(value) {\n    if (value !== undefined && value !== null) return value;\n    return '';\n  }\n\n  function prefix(value, prefix) {\n    if (value !== undefined && value !== null) return prefix + value;\n    return '';\n  }\n\n  function suffix(value, suffix) {\n    if (value !== undefined && value !== null) return value + suffix;\n    return '';\n  }\n\n  function Parser(options) {\n    this.options = options;\n  }\n\n  ;\n\n  Parser.prototype.parse = function (uriStr, strictMode) {\n    if (strictMode === true) return parseUri(uriStr, \"strict\");\n    return parseUri(uriStr);\n  };\n\n  Parser.prototype.complete = function (obj) {\n    if (typeof obj === 'string') obj = this.parse(obj);\n    if (!isSet(obj.userInfo) && (isSet(obj.user) || isSet(obj.password))) obj.userInfo = value(obj.user) + prefix(obj.password, ':');\n    if (!isSet(obj.authority) && (isSet(obj.userInfo) || isSet(obj.host) || isSet(obj.port))) obj.authority = suffix(obj.userInfo, '@') + value(obj.host) + prefix(obj.port, ':');\n    if (!isSet(obj.query) && isSet(obj.queryKey)) obj.query = sortedQuery(obj.queryKey);\n    if (!isSet(obj.relative) && (isSet(obj.directory) || isSet(obj.file))) obj.relative = value(obj.directory) + value(obj.file);\n    if (!isSet(obj.relative) && (isSet(obj.path) || isSet(obj.query) || isSet(obj.anchor))) obj.relative = value(obj.path) + prefix(obj.query, '?') + prefix(obj.anchor, '#');\n    return obj;\n  };\n\n  Parser.prototype.format = function (obj) {\n    obj = this.complete(obj);\n    return suffix(obj.protocol, ':').toLowerCase() + prefix(obj.authority, '//') + value(obj.relative);\n  };\n\n  module.exports = exports = Parser;\n});","map":[[2,0,9,0],[2,6,9,4,"parseUri"],[2,14,9,12],[2,17,9,15,"require"],[2,28,9,22],[2,61,9,0],[4,0,19,0],[4,11,19,9,"sortedQuery"],[4,22,19,0],[4,23,19,22,"query"],[4,28,19,0],[4,30,19,29],[5,0,20,2],[5,8,20,6,"keys"],[5,12,20,10],[5,15,20,13],[5,17,20,2],[6,0,20,2],[6,8,20,17,"name"],[6,12,20,2],[7,0,20,2],[7,8,20,23,"i"],[7,9,20,2],[8,0,20,2],[8,8,20,26,"len"],[8,11,20,2],[9,0,20,2],[9,8,20,31,"key"],[9,11,20,2],[10,0,20,2],[10,8,20,36,"sorted"],[10,14,20,42],[10,17,20,45],[10,19,20,2],[12,0,21,2],[12,9,21,7,"name"],[12,13,21,2],[12,17,21,15,"query"],[12,22,21,2],[12,24,21,22],[13,0,22,4],[13,11,22,9,"i"],[13,12,22,10],[13,15,22,13],[13,16,22,9],[13,18,22,16,"len"],[13,21,22,19],[13,24,22,22,"keys"],[13,28,22,26],[13,29,22,27,"length"],[13,35,22,4],[13,37,22,35,"i"],[13,38,22,36],[13,41,22,39,"len"],[13,44,22,4],[13,46,22,44,"i"],[13,47,22,45],[13,49,22,4],[13,51,22,49],[14,0,23,6],[14,12,23,10,"keys"],[14,16,23,14],[14,17,23,15,"i"],[14,18,23,14],[14,19,23,10],[14,23,23,21,"name"],[14,27,23,6],[14,29,23,27],[15,0,24,5],[17,0,25,4,"keys"],[17,6,25,4,"keys"],[17,10,25,8],[17,11,25,9,"splice"],[17,17,25,4],[17,18,25,16,"i"],[17,19,25,4],[17,21,25,19],[17,22,25,4],[17,24,25,22,"name"],[17,28,25,4],[18,0,26,3],[20,0,27,2],[20,9,27,7,"i"],[20,10,27,8],[20,13,27,11],[20,14,27,7],[20,16,27,14,"len"],[20,19,27,17],[20,22,27,20,"keys"],[20,26,27,24],[20,27,27,25,"length"],[20,33,27,2],[20,35,27,33,"i"],[20,36,27,34],[20,39,27,37,"len"],[20,42,27,2],[20,44,27,42,"i"],[20,45,27,43],[20,47,27,2],[20,49,27,47],[21,0,28,4,"key"],[21,6,28,4,"key"],[21,9,28,7],[21,12,28,10,"keys"],[21,16,28,14],[21,17,28,15,"i"],[21,18,28,14],[21,19,28,4],[22,0,29,4,"sorted"],[22,6,29,4,"sorted"],[22,12,29,10],[22,13,29,11,"push"],[22,17,29,4],[22,18,29,16,"key"],[22,21,29,19],[22,24,29,22],[22,27,29,16],[22,30,29,28,"query"],[22,35,29,33],[22,36,29,34,"key"],[22,39,29,33],[22,40,29,4],[23,0,30,3],[25,0,31,2],[25,8,31,6,"sorted"],[25,14,31,12],[25,15,31,13,"length"],[25,21,31,6],[25,26,31,24],[25,27,31,2],[25,29,32,1],[25,36,32,8,"sorted"],[25,42,32,14],[25,43,32,15,"join"],[25,47,32,8],[25,48,32,20],[25,51,32,8],[25,52,32,1],[26,0,33,1],[28,0,33,1],[30,0,43,0],[30,11,43,9,"isSet"],[30,16,43,0],[30,17,43,15,"value"],[30,22,43,0],[30,24,43,22],[31,0,44,1],[31,8,44,6,"value"],[31,13,44,11],[31,18,44,16,"undefined"],[31,27,44,5],[31,31,44,31,"value"],[31,36,44,36],[31,41,44,41],[31,45,44,1],[31,47,45,2],[31,54,45,9,"value"],[31,59,45,14],[31,64,45,19],[31,66,45,2],[32,0,46,1],[32,11,46,8],[32,16,46,1],[33,0,47,1],[35,0,57,0],[35,11,57,9,"value"],[35,16,57,0],[35,17,57,15,"value"],[35,22,57,0],[35,24,57,22],[36,0,58,1],[36,8,58,6,"value"],[36,13,58,11],[36,18,58,16,"undefined"],[36,27,58,5],[36,31,58,31,"value"],[36,36,58,36],[36,41,58,41],[36,45,58,1],[36,47,59,2],[36,54,59,9,"value"],[36,59,59,2],[37,0,60,1],[37,11,60,8],[37,13,60,1],[38,0,61,1],[40,0,72,0],[40,11,72,9,"prefix"],[40,17,72,0],[40,18,72,16,"value"],[40,23,72,0],[40,25,72,23,"prefix"],[40,31,72,0],[40,33,72,31],[41,0,73,1],[41,8,73,6,"value"],[41,13,73,11],[41,18,73,16,"undefined"],[41,27,73,5],[41,31,73,31,"value"],[41,36,73,36],[41,41,73,41],[41,45,73,1],[41,47,74,2],[41,54,74,9,"prefix"],[41,60,74,15],[41,63,74,18,"value"],[41,68,74,2],[42,0,75,1],[42,11,75,8],[42,13,75,1],[43,0,76,1],[45,0,87,0],[45,11,87,9,"suffix"],[45,17,87,0],[45,18,87,16,"value"],[45,23,87,0],[45,25,87,23,"suffix"],[45,31,87,0],[45,33,87,31],[46,0,88,1],[46,8,88,6,"value"],[46,13,88,11],[46,18,88,16,"undefined"],[46,27,88,5],[46,31,88,31,"value"],[46,36,88,36],[46,41,88,41],[46,45,88,1],[46,47,89,2],[46,54,89,9,"value"],[46,59,89,14],[46,62,89,17,"suffix"],[46,68,89,2],[47,0,90,1],[47,11,90,8],[47,13,90,1],[48,0,91,1],[50,0,100,0],[50,11,100,9,"Parser"],[50,17,100,0],[50,18,100,17,"options"],[50,25,100,0],[50,27,100,26],[51,0,101,1],[51,9,101,6,"options"],[51,16,101,1],[51,19,101,16,"options"],[51,26,101,1],[52,0,102,1],[54,0,102,1],[56,0,115,0,"Parser"],[56,2,115,0,"Parser"],[56,8,115,6],[56,9,115,7,"prototype"],[56,18,115,0],[56,19,115,17,"parse"],[56,24,115,0],[56,27,115,25],[56,37,115,35,"uriStr"],[56,43,115,25],[56,45,115,43,"strictMode"],[56,55,115,25],[56,57,115,55],[57,0,116,1],[57,8,116,5,"strictMode"],[57,18,116,15],[57,23,116,20],[57,27,116,1],[57,29,116,26],[57,36,116,33,"parseUri"],[57,44,116,41],[57,45,116,43,"uriStr"],[57,51,116,41],[57,53,116,51],[57,61,116,41],[57,62,116,26],[58,0,117,1],[58,11,117,8,"parseUri"],[58,19,117,16],[58,20,117,18,"uriStr"],[58,26,117,16],[58,27,117,1],[59,0,118,1],[59,3,115,0],[61,0,129,0,"Parser"],[61,2,129,0,"Parser"],[61,8,129,6],[61,9,129,7,"prototype"],[61,18,129,0],[61,19,129,17,"complete"],[61,27,129,0],[61,30,129,28],[61,40,129,38,"obj"],[61,43,129,28],[61,45,129,43],[62,0,130,1],[62,8,130,5],[62,15,130,12,"obj"],[62,18,130,5],[62,23,130,20],[62,31,130,1],[62,33,130,30,"obj"],[62,36,130,33],[62,39,130,36],[62,44,130,41,"parse"],[62,49,130,36],[62,50,130,47,"obj"],[62,53,130,36],[62,54,130,30],[63,0,131,1],[63,8,131,6],[63,9,131,7,"isSet"],[63,14,131,12],[63,15,131,13,"obj"],[63,18,131,16],[63,19,131,17,"userInfo"],[63,27,131,12],[63,28,131,5],[63,33,132,3,"isSet"],[63,38,132,8],[63,39,132,9,"obj"],[63,42,132,12],[63,43,132,13,"user"],[63,47,132,8],[63,48,132,3],[63,52,132,22,"isSet"],[63,57,132,27],[63,58,132,28,"obj"],[63,61,132,31],[63,62,132,32,"password"],[63,70,132,27],[63,71,131,5],[63,72,131,1],[63,74,133,2,"obj"],[63,77,133,5],[63,78,133,6,"userInfo"],[63,86,133,2],[63,89,133,17,"value"],[63,94,133,22],[63,95,133,23,"obj"],[63,98,133,26],[63,99,133,27,"user"],[63,103,133,22],[63,104,133,17],[63,107,133,35,"prefix"],[63,113,133,41],[63,114,133,42,"obj"],[63,117,133,45],[63,118,133,46,"password"],[63,126,133,41],[63,128,133,56],[63,131,133,41],[63,132,133,2],[64,0,134,1],[64,8,134,5],[64,9,134,6,"isSet"],[64,14,134,11],[64,15,134,12,"obj"],[64,18,134,15],[64,19,134,16,"authority"],[64,28,134,11],[64,29,134,5],[64,34,135,3,"isSet"],[64,39,135,8],[64,40,135,9,"obj"],[64,43,135,12],[64,44,135,13,"userInfo"],[64,52,135,8],[64,53,135,3],[64,57,135,26,"isSet"],[64,62,135,31],[64,63,135,32,"obj"],[64,66,135,35],[64,67,135,36,"host"],[64,71,135,31],[64,72,135,3],[64,76,135,45,"isSet"],[64,81,135,50],[64,82,135,51,"obj"],[64,85,135,54],[64,86,135,55,"port"],[64,90,135,50],[64,91,134,5],[64,92,134,1],[64,94,136,2,"obj"],[64,97,136,5],[64,98,136,6,"authority"],[64,107,136,2],[64,110,136,18,"suffix"],[64,116,136,24],[64,117,136,25,"obj"],[64,120,136,28],[64,121,136,29,"userInfo"],[64,129,136,24],[64,131,136,39],[64,134,136,24],[64,135,136,18],[64,138,136,46,"value"],[64,143,136,51],[64,144,136,52,"obj"],[64,147,136,55],[64,148,136,56,"host"],[64,152,136,51],[64,153,136,18],[64,156,136,64,"prefix"],[64,162,136,70],[64,163,136,71,"obj"],[64,166,136,74],[64,167,136,75,"port"],[64,171,136,70],[64,173,136,81],[64,176,136,70],[64,177,136,2],[65,0,137,1],[65,8,137,6],[65,9,137,7,"isSet"],[65,14,137,12],[65,15,137,13,"obj"],[65,18,137,16],[65,19,137,17,"query"],[65,24,137,12],[65,25,137,5],[65,29,137,28,"isSet"],[65,34,137,33],[65,35,137,34,"obj"],[65,38,137,37],[65,39,137,38,"queryKey"],[65,47,137,33],[65,48,137,1],[65,50,138,2,"obj"],[65,53,138,5],[65,54,138,6,"query"],[65,59,138,2],[65,62,138,14,"sortedQuery"],[65,73,138,25],[65,74,138,26,"obj"],[65,77,138,29],[65,78,138,30,"queryKey"],[65,86,138,25],[65,87,138,2],[66,0,139,1],[66,8,139,6],[66,9,139,7,"isSet"],[66,14,139,12],[66,15,139,13,"obj"],[66,18,139,16],[66,19,139,17,"relative"],[66,27,139,12],[66,28,139,5],[66,33,140,3,"isSet"],[66,38,140,8],[66,39,140,9,"obj"],[66,42,140,12],[66,43,140,13,"directory"],[66,52,140,8],[66,53,140,3],[66,57,140,27,"isSet"],[66,62,140,32],[66,63,140,33,"obj"],[66,66,140,36],[66,67,140,37,"file"],[66,71,140,32],[66,72,139,5],[66,73,139,1],[66,75,141,2,"obj"],[66,78,141,5],[66,79,141,6,"relative"],[66,87,141,2],[66,90,141,17,"value"],[66,95,141,22],[66,96,141,23,"obj"],[66,99,141,26],[66,100,141,27,"directory"],[66,109,141,22],[66,110,141,17],[66,113,141,40,"value"],[66,118,141,45],[66,119,141,46,"obj"],[66,122,141,49],[66,123,141,50,"file"],[66,127,141,45],[66,128,141,2],[67,0,142,1],[67,8,142,5],[67,9,142,6,"isSet"],[67,14,142,11],[67,15,142,12,"obj"],[67,18,142,15],[67,19,142,16,"relative"],[67,27,142,11],[67,28,142,5],[67,33,143,3,"isSet"],[67,38,143,8],[67,39,143,9,"obj"],[67,42,143,12],[67,43,143,13,"path"],[67,47,143,8],[67,48,143,3],[67,52,143,22,"isSet"],[67,57,143,27],[67,58,143,28,"obj"],[67,61,143,31],[67,62,143,32,"query"],[67,67,143,27],[67,68,143,3],[67,72,143,42,"isSet"],[67,77,143,47],[67,78,143,48,"obj"],[67,81,143,51],[67,82,143,52,"anchor"],[67,88,143,47],[67,89,142,5],[67,90,142,1],[67,92,144,2,"obj"],[67,95,144,5],[67,96,144,6,"relative"],[67,104,144,2],[67,107,144,17,"value"],[67,112,144,22],[67,113,144,23,"obj"],[67,116,144,26],[67,117,144,27,"path"],[67,121,144,22],[67,122,144,17],[67,125,144,35,"prefix"],[67,131,144,41],[67,132,144,42,"obj"],[67,135,144,45],[67,136,144,46,"query"],[67,141,144,41],[67,143,144,53],[67,146,144,41],[67,147,144,17],[67,150,144,60,"prefix"],[67,156,144,66],[67,157,144,67,"obj"],[67,160,144,70],[67,161,144,71,"anchor"],[67,167,144,66],[67,169,144,79],[67,172,144,66],[67,173,144,2],[68,0,145,1],[68,11,145,8,"obj"],[68,14,145,1],[69,0,146,1],[69,3,129,0],[71,0,156,0,"Parser"],[71,2,156,0,"Parser"],[71,8,156,6],[71,9,156,7,"prototype"],[71,18,156,0],[71,19,156,17,"format"],[71,25,156,0],[71,28,156,26],[71,38,156,36,"obj"],[71,41,156,26],[71,43,156,41],[72,0,157,1,"obj"],[72,4,157,1,"obj"],[72,7,157,4],[72,10,157,7],[72,15,157,12,"complete"],[72,23,157,7],[72,24,157,21,"obj"],[72,27,157,7],[72,28,157,1],[73,0,158,1],[73,11,158,9,"suffix"],[73,17,158,15],[73,18,158,16,"obj"],[73,21,158,19],[73,22,158,20,"protocol"],[73,30,158,15],[73,32,158,30],[73,35,158,15],[73,36,158,9],[73,37,158,35,"toLowerCase"],[73,48,158,9],[73,53,159,3,"prefix"],[73,59,159,9],[73,60,159,10,"obj"],[73,63,159,13],[73,64,159,14,"authority"],[73,73,159,9],[73,75,159,25],[73,79,159,9],[73,80,158,9],[73,83,159,33,"value"],[73,88,159,38],[73,89,159,39,"obj"],[73,92,159,42],[73,93,159,43,"relative"],[73,101,159,38],[73,102,158,1],[74,0,160,1],[74,3,156,0],[76,0,166,0,"module"],[76,2,166,0,"module"],[76,8,166,6],[76,9,166,7,"exports"],[76,16,166,0],[76,19,166,17,"exports"],[76,26,166,24],[76,29,166,27,"Parser"],[76,35,166,0]]},"type":"js/module"}]}