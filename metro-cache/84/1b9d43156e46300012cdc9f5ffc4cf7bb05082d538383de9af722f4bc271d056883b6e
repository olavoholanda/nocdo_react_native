{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"expo-core","data":{"isAsync":false}},{"name":"uuid-js","data":{"isAsync":false}},{"name":"./ExponentFileSystem","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getInfoAsync = getInfoAsync;\n  exports.readAsStringAsync = readAsStringAsync;\n  exports.writeAsStringAsync = writeAsStringAsync;\n  exports.deleteAsync = deleteAsync;\n  exports.moveAsync = moveAsync;\n  exports.copyAsync = copyAsync;\n  exports.makeDirectoryAsync = makeDirectoryAsync;\n  exports.readDirectoryAsync = readDirectoryAsync;\n  exports.downloadAsync = downloadAsync;\n  exports.createDownloadResumable = createDownloadResumable;\n  exports.DownloadResumable = exports.EncodingTypes = exports.bundleDirectory = exports.bundledAssets = exports.cacheDirectory = exports.documentDirectory = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _expoCore = _$$_REQUIRE(_dependencyMap[4], \"expo-core\");\n\n  var _uuidJs = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"uuid-js\"));\n\n  var _ExponentFileSystem = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./ExponentFileSystem\"));\n\n  var normalizeEndingSlash = function normalizeEndingSlash(p) {\n    if (p != null) {\n      return p.replace(/\\/*$/, '') + '/';\n    }\n\n    return null;\n  };\n\n  _ExponentFileSystem.default.documentDirectory = normalizeEndingSlash(_ExponentFileSystem.default.documentDirectory);\n  _ExponentFileSystem.default.cacheDirectory = normalizeEndingSlash(_ExponentFileSystem.default.cacheDirectory);\n  var documentDirectory = _ExponentFileSystem.default.documentDirectory;\n  exports.documentDirectory = documentDirectory;\n  var cacheDirectory = _ExponentFileSystem.default.cacheDirectory;\n  exports.cacheDirectory = cacheDirectory;\n  var bundledAssets = _ExponentFileSystem.default.bundledAssets;\n  exports.bundledAssets = bundledAssets;\n  var bundleDirectory = _ExponentFileSystem.default.bundleDirectory;\n  exports.bundleDirectory = bundleDirectory;\n  var EncodingTypes = {\n    UTF8: 'utf8',\n    Base64: 'base64'\n  };\n  exports.EncodingTypes = EncodingTypes;\n\n  function getInfoAsync(fileUri) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return _ExponentFileSystem.default.getInfoAsync(fileUri, options);\n  }\n\n  function readAsStringAsync(fileUri, options) {\n    return _ExponentFileSystem.default.readAsStringAsync(fileUri, options || {});\n  }\n\n  function writeAsStringAsync(fileUri, contents, options) {\n    return _ExponentFileSystem.default.writeAsStringAsync(fileUri, contents, options || {});\n  }\n\n  function deleteAsync(fileUri) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return _ExponentFileSystem.default.deleteAsync(fileUri, options);\n  }\n\n  function moveAsync(options) {\n    return _ExponentFileSystem.default.moveAsync(options);\n  }\n\n  function copyAsync(options) {\n    return _ExponentFileSystem.default.copyAsync(options);\n  }\n\n  function makeDirectoryAsync(fileUri) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return _ExponentFileSystem.default.makeDirectoryAsync(fileUri, options);\n  }\n\n  function readDirectoryAsync(fileUri) {\n    return _ExponentFileSystem.default.readDirectoryAsync(fileUri, {});\n  }\n\n  function downloadAsync(uri, fileUri) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _ExponentFileSystem.default.downloadAsync(uri, fileUri, options);\n  }\n\n  function createDownloadResumable(uri, fileUri, options, callback, resumeData) {\n    return new DownloadResumable(uri, fileUri, options, callback, resumeData);\n  }\n\n  var DownloadResumable = function () {\n    function DownloadResumable(url, fileUri) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      var resumeData = arguments.length > 4 ? arguments[4] : undefined;\n      (0, _classCallCheck2.default)(this, DownloadResumable);\n      this._uuid = _uuidJs.default.create(4).toString();\n      this._url = url;\n      this._fileUri = fileUri;\n      this._options = options;\n      this._resumeData = resumeData;\n      this._callback = callback;\n      this._subscription = null;\n      this._emitter = new _expoCore.EventEmitter(_ExponentFileSystem.default);\n    }\n\n    (0, _createClass2.default)(DownloadResumable, [{\n      key: \"downloadAsync\",\n      value: function downloadAsync() {\n        return _regenerator.default.async(function downloadAsync$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._addSubscription();\n\n                _context.next = 3;\n                return _regenerator.default.awrap(_ExponentFileSystem.default.downloadResumableStartAsync(this._url, this._fileUri, this._uuid, this._options, this._resumeData));\n\n              case 3:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"pauseAsync\",\n      value: function pauseAsync() {\n        var pauseResult;\n        return _regenerator.default.async(function pauseAsync$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regenerator.default.awrap(_ExponentFileSystem.default.downloadResumablePauseAsync(this._uuid));\n\n              case 2:\n                pauseResult = _context2.sent;\n\n                this._removeSubscription();\n\n                if (!pauseResult) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                this._resumeData = pauseResult.resumeData;\n                return _context2.abrupt(\"return\", this.savable());\n\n              case 9:\n                throw new Error('Unable to generate a savable pause state');\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"resumeAsync\",\n      value: function resumeAsync() {\n        return _regenerator.default.async(function resumeAsync$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this._addSubscription();\n\n                _context3.next = 3;\n                return _regenerator.default.awrap(_ExponentFileSystem.default.downloadResumableStartAsync(this._url, this._fileUri, this._uuid, this._options, this._resumeData));\n\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"savable\",\n      value: function savable() {\n        return {\n          url: this._url,\n          fileUri: this._fileUri,\n          options: this._options,\n          resumeData: this._resumeData\n        };\n      }\n    }, {\n      key: \"_addSubscription\",\n      value: function _addSubscription() {\n        var _this = this;\n\n        if (this._subscription) {\n          return;\n        }\n\n        this._subscription = this._emitter.addListener('Exponent.downloadProgress', function (_ref) {\n          var uuid = _ref.uuid,\n              data = _ref.data;\n\n          if (uuid === _this._uuid) {\n            var callback = _this._callback;\n\n            if (callback) {\n              callback(data);\n            }\n          }\n        });\n      }\n    }, {\n      key: \"_removeSubscription\",\n      value: function _removeSubscription() {\n        if (!this._subscription) {\n          return;\n        }\n\n        this._emitter.removeSubscription(this._subscription);\n\n        this._subscription = null;\n      }\n    }]);\n    return DownloadResumable;\n  }();\n\n  exports.DownloadResumable = DownloadResumable;\n});","map":[[25,0,3,0],[27,0,4,0],[29,0,5,0],[31,0,7,0],[31,6,7,6,"normalizeEndingSlash"],[31,26,7,26],[31,29,7,29],[31,38,7,6,"normalizeEndingSlash"],[31,58,7,29],[31,59,7,29,"p"],[31,60,7,30],[31,62,7,34],[32,0,8,2],[32,8,8,6,"p"],[32,9,8,7],[32,13,8,11],[32,17,8,2],[32,19,8,17],[33,0,9,4],[33,13,9,11,"p"],[33,14,9,12],[33,15,9,13,"replace"],[33,22,9,11],[33,23,9,21],[33,29,9,11],[33,31,9,29],[33,33,9,11],[33,37,9,35],[33,40,9,4],[34,0,10,3],[36,0,11,2],[36,11,11,9],[36,15,11,2],[37,0,12,1],[37,3,7,0],[39,0,14,0,"FS"],[39,30,14,3,"documentDirectory"],[39,47,14,0],[39,50,14,23,"normalizeEndingSlash"],[39,70,14,43],[39,71,14,44,"FS"],[39,99,14,47,"documentDirectory"],[39,116,14,43],[39,117,14,0],[40,0,15,0,"FS"],[40,30,15,3,"cacheDirectory"],[40,44,15,0],[40,47,15,20,"normalizeEndingSlash"],[40,67,15,40],[40,68,15,41,"FS"],[40,96,15,44,"cacheDirectory"],[40,110,15,40],[40,111,15,0],[41,0,17,7],[41,6,17,13,"documentDirectory"],[41,23,17,30],[41,26,17,33,"FS"],[41,54,17,36,"documentDirectory"],[41,71,17,7],[43,0,18,7],[43,6,18,13,"cacheDirectory"],[43,20,18,27],[43,23,18,30,"FS"],[43,51,18,33,"cacheDirectory"],[43,65,18,7],[45,0,19,7],[45,6,19,13,"bundledAssets"],[45,19,19,26],[45,22,19,29,"FS"],[45,50,19,32,"bundledAssets"],[45,63,19,7],[47,0,20,7],[47,6,20,13,"bundleDirectory"],[47,21,20,28],[47,24,20,31,"FS"],[47,52,20,34,"bundleDirectory"],[47,67,20,7],[49,0,21,7],[49,6,21,13,"EncodingTypes"],[49,19,21,26],[49,22,21,29],[50,0,22,2,"UTF8"],[50,4,22,2,"UTF8"],[50,8,22,6],[50,10,22,8],[50,16,21,29],[51,0,23,2,"Base64"],[51,4,23,2,"Base64"],[51,10,23,8],[51,12,23,10],[52,0,21,29],[52,3,21,7],[55,0,50,7],[55,11,50,16,"getInfoAsync"],[55,23,50,7],[55,24,50,29,"fileUri"],[55,31,50,7],[55,33,50,98],[56,0,50,98],[56,8,50,46,"options"],[56,15,50,98],[56,86,50,75],[56,88,50,98],[57,0,51,2],[57,11,51,9,"FS"],[57,39,51,12,"getInfoAsync"],[57,51,51,9],[57,52,51,25,"fileUri"],[57,59,51,9],[57,61,51,34,"options"],[57,68,51,9],[57,69,51,2],[58,0,52,1],[60,0,54,7],[60,11,54,16,"readAsStringAsync"],[60,28,54,7],[60,29,54,34,"fileUri"],[60,36,54,7],[60,38,54,51,"options"],[60,45,54,7],[60,47,54,94],[61,0,55,2],[61,11,55,9,"FS"],[61,39,55,12,"readAsStringAsync"],[61,56,55,9],[61,57,55,30,"fileUri"],[61,64,55,9],[61,66,55,39,"options"],[61,73,55,46],[61,77,55,50],[61,79,55,9],[61,80,55,2],[62,0,56,1],[64,0,58,7],[64,11,58,16,"writeAsStringAsync"],[64,29,58,7],[64,30,59,2,"fileUri"],[64,37,58,7],[64,39,60,2,"contents"],[64,47,58,7],[64,49,61,2,"options"],[64,56,58,7],[64,58,62,17],[65,0,63,2],[65,11,63,9,"FS"],[65,39,63,12,"writeAsStringAsync"],[65,57,63,9],[65,58,63,31,"fileUri"],[65,65,63,9],[65,67,63,40,"contents"],[65,75,63,9],[65,77,63,50,"options"],[65,84,63,57],[65,88,63,61],[65,90,63,9],[65,91,63,2],[66,0,64,1],[68,0,66,7],[68,11,66,16,"deleteAsync"],[68,22,66,7],[68,23,67,2,"fileUri"],[68,30,66,7],[68,32,69,17],[69,0,69,17],[69,8,68,2,"options"],[69,15,69,17],[69,86,68,38],[69,88,69,17],[70,0,70,2],[70,11,70,9,"FS"],[70,39,70,12,"deleteAsync"],[70,50,70,9],[70,51,70,24,"fileUri"],[70,58,70,9],[70,60,70,33,"options"],[70,67,70,9],[70,68,70,2],[71,0,71,1],[73,0,73,7],[73,11,73,16,"moveAsync"],[73,20,73,7],[73,21,73,26,"options"],[73,28,73,7],[73,30,73,80],[74,0,74,2],[74,11,74,9,"FS"],[74,39,74,12,"moveAsync"],[74,48,74,9],[74,49,74,22,"options"],[74,56,74,9],[74,57,74,2],[75,0,75,1],[77,0,77,7],[77,11,77,16,"copyAsync"],[77,20,77,7],[77,21,77,26,"options"],[77,28,77,7],[77,30,77,80],[78,0,78,2],[78,11,78,9,"FS"],[78,39,78,12,"copyAsync"],[78,48,78,9],[78,49,78,22,"options"],[78,56,78,9],[78,57,78,2],[79,0,79,1],[81,0,81,7],[81,11,81,16,"makeDirectoryAsync"],[81,29,81,7],[81,30,82,2,"fileUri"],[81,37,81,7],[81,39,84,17],[82,0,84,17],[82,8,83,2,"options"],[82,15,84,17],[82,86,83,41],[82,88,84,17],[83,0,85,2],[83,11,85,9,"FS"],[83,39,85,12,"makeDirectoryAsync"],[83,57,85,9],[83,58,85,31,"fileUri"],[83,65,85,9],[83,67,85,40,"options"],[83,74,85,9],[83,75,85,2],[84,0,86,1],[86,0,88,7],[86,11,88,16,"readDirectoryAsync"],[86,29,88,7],[86,30,88,35,"fileUri"],[86,37,88,7],[86,39,88,67],[87,0,89,2],[87,11,89,9,"FS"],[87,39,89,12,"readDirectoryAsync"],[87,57,89,9],[87,58,89,31,"fileUri"],[87,65,89,9],[87,67,89,40],[87,69,89,9],[87,70,89,2],[88,0,90,1],[90,0,103,7],[90,11,103,16,"downloadAsync"],[90,24,103,7],[90,25,104,2,"uri"],[90,28,103,7],[90,30,105,2,"fileUri"],[90,37,103,7],[90,39,107,27],[91,0,107,27],[91,8,106,2,"options"],[91,15,107,27],[91,86,106,29],[91,88,107,27],[92,0,108,2],[92,11,108,9,"FS"],[92,39,108,12,"downloadAsync"],[92,52,108,9],[92,53,108,26,"uri"],[92,56,108,9],[92,58,108,31,"fileUri"],[92,65,108,9],[92,67,108,40,"options"],[92,74,108,9],[92,75,108,2],[93,0,109,1],[95,0,111,7],[95,11,111,16,"createDownloadResumable"],[95,34,111,7],[95,35,112,2,"uri"],[95,38,111,7],[95,40,113,2,"fileUri"],[95,47,111,7],[95,49,114,2,"options"],[95,56,111,7],[95,58,115,2,"callback"],[95,66,111,7],[95,68,116,2,"resumeData"],[95,78,111,7],[95,80,117,2],[96,0,118,2],[96,11,118,9],[96,15,118,13,"DownloadResumable"],[96,32,118,9],[96,33,118,31,"uri"],[96,36,118,9],[96,38,118,36,"fileUri"],[96,45,118,9],[96,47,118,45,"options"],[96,54,118,9],[96,56,118,54,"callback"],[96,64,118,9],[96,66,118,64,"resumeData"],[96,76,118,9],[96,77,118,2],[97,0,119,1],[99,6,133,13,"DownloadResumable"],[99,23],[100,0,143,2],[100,31,144,4,"url"],[100,34,143,2],[100,36,145,4,"fileUri"],[100,43,143,2],[100,45,149,4],[101,0,149,4],[101,10,146,4,"options"],[101,17,149,4],[101,88,146,31],[101,90,149,4],[102,0,149,4],[102,10,147,4,"callback"],[102,18,149,4],[103,0,149,4],[103,10,148,4,"resumeData"],[103,20,149,4],[104,0,149,4],[105,0,150,4],[105,11,150,9,"_uuid"],[105,16,150,4],[105,19,150,17,"UUID"],[105,35,150,22,"create"],[105,41,150,17],[105,42,150,29],[105,43,150,17],[105,45,150,32,"toString"],[105,53,150,17],[105,55,150,4],[106,0,151,4],[106,11,151,9,"_url"],[106,15,151,4],[106,18,151,16,"url"],[106,21,151,4],[107,0,152,4],[107,11,152,9,"_fileUri"],[107,19,152,4],[107,22,152,20,"fileUri"],[107,29,152,4],[108,0,153,4],[108,11,153,9,"_options"],[108,19,153,4],[108,22,153,20,"options"],[108,29,153,4],[109,0,154,4],[109,11,154,9,"_resumeData"],[109,22,154,4],[109,25,154,23,"resumeData"],[109,35,154,4],[110,0,155,4],[110,11,155,9,"_callback"],[110,20,155,4],[110,23,155,21,"callback"],[110,31,155,4],[111,0,156,4],[111,11,156,9,"_subscription"],[111,24,156,4],[111,27,156,25],[111,31,156,4],[112,0,157,4],[112,11,157,9,"_emitter"],[112,19,157,4],[112,22,157,20],[112,26,157,24,"EventEmitter"],[112,48,157,20],[112,49,157,37,"FS"],[112,76,157,20],[112,77,157,4],[113,0,158,3],[122,0,161,4],[122,21,161,9,"_addSubscription"],[122,37,161,4],[125,50,162,17,"FS"],[125,78,162,20,"downloadResumableStartAsync"],[125,105,162,17],[125,106,163,6],[125,111,163,11,"_url"],[125,115,162,17],[125,117,164,6],[125,122,164,11,"_fileUri"],[125,130,162,17],[125,132,165,6],[125,137,165,11,"_uuid"],[125,142,162,17],[125,144,166,6],[125,149,166,11,"_options"],[125,157,162,17],[125,159,167,6],[125,164,167,11,"_resumeData"],[125,175,162,17],[125,176],[146,50,172,30,"FS"],[146,78,172,33,"downloadResumablePauseAsync"],[146,105,172,30],[146,106,172,61],[146,111,172,66,"_uuid"],[146,116,172,30],[146,117],[149,0,172,10,"pauseResult"],[149,16,172,10,"pauseResult"],[149,27],[151,0,173,4],[151,21,173,9,"_removeSubscription"],[151,40,173,4],[153,21,174,8,"pauseResult"],[153,32],[158,0,175,6],[158,21,175,11,"_resumeData"],[158,32,175,6],[158,35,175,25,"pauseResult"],[158,46,175,36],[158,47,175,37,"resumeData"],[158,57,175,6],[159,50,176,13],[159,55,176,18,"savable"],[159,62,176,13],[159,64],[162,22,178,12],[162,26,178,16,"Error"],[162,31,178,12],[162,32,178,22],[162,74,178,12],[162,75],[178,0,183,4],[178,21,183,9,"_addSubscription"],[178,37,183,4],[181,50,184,17,"FS"],[181,78,184,20,"downloadResumableStartAsync"],[181,105,184,17],[181,106,185,6],[181,111,185,11,"_url"],[181,115,184,17],[181,117,186,6],[181,122,186,11,"_fileUri"],[181,130,184,17],[181,132,187,6],[181,137,187,11,"_uuid"],[181,142,184,17],[181,144,188,6],[181,149,188,11,"_options"],[181,157,184,17],[181,159,189,6],[181,164,189,11,"_resumeData"],[181,175,184,17],[181,176],[195,32,193,32],[196,0,194,4],[196,15,194,11],[197,0,195,6,"url"],[197,10,195,6,"url"],[197,13,195,9],[197,15,195,11],[197,20,195,16,"_url"],[197,24,194,11],[198,0,196,6,"fileUri"],[198,10,196,6,"fileUri"],[198,17,196,13],[198,19,196,15],[198,24,196,20,"_fileUri"],[198,32,194,11],[199,0,197,6,"options"],[199,10,197,6,"options"],[199,17,197,13],[199,19,197,15],[199,24,197,20,"_options"],[199,32,194,11],[200,0,198,6,"resumeData"],[200,10,198,6,"resumeData"],[200,20,198,16],[200,22,198,18],[200,27,198,23,"_resumeData"],[201,0,194,11],[201,9,194,4],[202,0,200,3],[205,41,202,27],[206,0,202,27],[208,0,203,4],[208,12,203,8],[208,17,203,13,"_subscription"],[208,30,203,4],[208,32,203,28],[209,0,204,6],[210,0,205,5],[212,0,206,4],[212,13,206,9,"_subscription"],[212,26,206,4],[212,29,206,25],[212,34,206,30,"_emitter"],[212,42,206,25],[212,43,206,39,"addListener"],[212,54,206,25],[212,55,207,6],[212,82,206,25],[212,84,208,6],[212,100,208,26],[213,0,208,26],[213,14,208,9,"uuid"],[213,18,208,26],[213,26,208,9,"uuid"],[213,30,208,26],[214,0,208,26],[214,14,208,15,"data"],[214,18,208,26],[214,26,208,15,"data"],[214,30,208,26],[216,0,209,8],[216,14,209,12,"uuid"],[216,18,209,16],[216,23,209,21],[216,28,209,25],[216,29,209,26,"_uuid"],[216,34,209,8],[216,36,209,33],[217,0,210,10],[217,16,210,16,"callback"],[217,24,210,24],[217,27,210,27],[217,32,210,31],[217,33,210,32,"_callback"],[217,42,210,10],[219,0,211,10],[219,16,211,14,"callback"],[219,24,211,10],[219,26,211,24],[220,0,212,12,"callback"],[220,14,212,12,"callback"],[220,22,212,20],[220,23,212,21,"data"],[220,27,212,20],[220,28,212,12],[221,0,213,11],[222,0,214,9],[223,0,215,7],[223,9,206,25],[223,10,206,4],[224,0,217,3],[227,44,219,30],[228,0,220,4],[228,12,220,8],[228,13,220,9],[228,18,220,14,"_subscription"],[228,31,220,4],[228,33,220,29],[229,0,221,6],[230,0,222,5],[232,0,223,4],[232,13,223,9,"_emitter"],[232,21,223,4],[232,22,223,18,"removeSubscription"],[232,40,223,4],[232,41,223,37],[232,46,223,42,"_subscription"],[232,59,223,4],[234,0,224,4],[234,13,224,9,"_subscription"],[234,26,224,4],[234,29,224,25],[234,33,224,4],[235,0,225,3]]},"type":"js/module"}]}