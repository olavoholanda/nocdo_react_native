{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"expo-errors","data":{"isAsync":false}},{"name":"./ExponentSpeech","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.speak = speak;\n  exports.isSpeakingAsync = isSpeakingAsync;\n  exports.stop = stop;\n  exports.pause = pause;\n  exports.resume = resume;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _expoErrors = _$$_REQUIRE(_dependencyMap[3], \"expo-errors\");\n\n  var _ExponentSpeech = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./ExponentSpeech\"));\n\n  var SpeechEventEmitter = new _reactNative.NativeEventEmitter(_ExponentSpeech.default);\n  var _CALLBACKS = {};\n  var _nextCallbackId = 1;\n  var _didSetListeners = false;\n\n  function _unregisterListenersIfNeeded() {\n    if (Object.keys(_CALLBACKS).length === 0) {\n      removeSpeakingListener('Exponent.speakingStarted');\n      removeSpeakingListener('Exponent.speakingDone');\n      removeSpeakingListener('Exponent.speakingStopped');\n      removeSpeakingListener('Exponent.speakingError');\n      _didSetListeners = false;\n    }\n  }\n\n  function _registerListenersIfNeeded() {\n    if (_didSetListeners) return;\n    _didSetListeners = true;\n    setSpeakingListener('Exponent.speakingStarted', function (_ref) {\n      var id = _ref.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onStart) {\n        options.onStart();\n      }\n    });\n    setSpeakingListener('Exponent.speakingDone', function (_ref2) {\n      var id = _ref2.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onDone) {\n        options.onDone();\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n    setSpeakingListener('Exponent.speakingStopped', function (_ref3) {\n      var id = _ref3.id;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onStopped) {\n        options.onStopped();\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n    setSpeakingListener('Exponent.speakingError', function (_ref4) {\n      var id = _ref4.id,\n          error = _ref4.error;\n      var options = _CALLBACKS[id];\n\n      if (options && options.onError) {\n        options.onError(new Error(error));\n      }\n\n      delete _CALLBACKS[id];\n\n      _unregisterListenersIfNeeded();\n    });\n  }\n\n  function speak(text) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = _nextCallbackId++;\n    _CALLBACKS[id] = options;\n\n    _registerListenersIfNeeded();\n\n    _ExponentSpeech.default.speak(String(id), text, options);\n  }\n\n  function isSpeakingAsync() {\n    return _regenerator.default.async(function isSpeakingAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", _ExponentSpeech.default.isSpeaking());\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  }\n\n  function stop() {\n    return _ExponentSpeech.default.stop();\n  }\n\n  function pause() {\n    if (!_ExponentSpeech.default.pause) {\n      throw new _expoErrors.UnavailabilityError('Speech', 'pause');\n    }\n\n    return _ExponentSpeech.default.pause();\n  }\n\n  function resume() {\n    if (!_ExponentSpeech.default.resume) {\n      throw new _expoErrors.UnavailabilityError('Speech', 'resume');\n    }\n\n    return _ExponentSpeech.default.resume();\n  }\n\n  function setSpeakingListener(eventName, callback) {\n    if (SpeechEventEmitter.listeners(eventName).length > 0) {\n      SpeechEventEmitter.removeAllListeners(eventName);\n    }\n\n    SpeechEventEmitter.addListener(eventName, callback);\n  }\n\n  function removeSpeakingListener(eventName) {\n    SpeechEventEmitter.removeAllListeners(eventName);\n  }\n});","map":[[15,0,1,0],[17,0,2,0],[19,0,3,0],[21,0,4,0],[21,6,4,6,"SpeechEventEmitter"],[21,24,4,24],[21,27,4,27],[21,31,4,31,"NativeEventEmitter"],[21,62,4,27],[21,63,4,50,"ExponentSpeech"],[21,86,4,27],[21,87,4,0],[22,0,5,0],[22,6,5,6,"_CALLBACKS"],[22,16,5,16],[22,19,5,19],[22,21,5,0],[23,0,6,0],[23,6,6,4,"_nextCallbackId"],[23,21,6,19],[23,24,6,22],[23,25,6,0],[24,0,7,0],[24,6,7,4,"_didSetListeners"],[24,22,7,20],[24,25,7,23],[24,30,7,0],[26,0,8,0],[26,11,8,9,"_unregisterListenersIfNeeded"],[26,39,8,0],[26,42,8,40],[27,0,9,4],[27,8,9,8,"Object"],[27,14,9,14],[27,15,9,15,"keys"],[27,19,9,8],[27,20,9,20,"_CALLBACKS"],[27,30,9,8],[27,32,9,32,"length"],[27,38,9,8],[27,43,9,43],[27,44,9,4],[27,46,9,46],[28,0,10,8,"removeSpeakingListener"],[28,6,10,8,"removeSpeakingListener"],[28,28,10,30],[28,29,10,31],[28,55,10,30],[28,56,10,8],[29,0,11,8,"removeSpeakingListener"],[29,6,11,8,"removeSpeakingListener"],[29,28,11,30],[29,29,11,31],[29,52,11,30],[29,53,11,8],[30,0,12,8,"removeSpeakingListener"],[30,6,12,8,"removeSpeakingListener"],[30,28,12,30],[30,29,12,31],[30,55,12,30],[30,56,12,8],[31,0,13,8,"removeSpeakingListener"],[31,6,13,8,"removeSpeakingListener"],[31,28,13,30],[31,29,13,31],[31,53,13,30],[31,54,13,8],[32,0,14,8,"_didSetListeners"],[32,6,14,8,"_didSetListeners"],[32,22,14,24],[32,25,14,27],[32,30,14,8],[33,0,15,5],[34,0,16,1],[36,0,17,0],[36,11,17,9,"_registerListenersIfNeeded"],[36,37,17,0],[36,40,17,38],[37,0,18,4],[37,8,18,8,"_didSetListeners"],[37,24,18,4],[37,26,19,8],[38,0,20,4,"_didSetListeners"],[38,4,20,4,"_didSetListeners"],[38,20,20,20],[38,23,20,23],[38,27,20,4],[39,0,21,4,"setSpeakingListener"],[39,4,21,4,"setSpeakingListener"],[39,23,21,23],[39,24,21,24],[39,50,21,23],[39,52,21,52],[39,68,21,64],[40,0,21,64],[40,10,21,55,"id"],[40,12,21,64],[40,20,21,55,"id"],[40,22,21,64],[41,0,22,8],[41,10,22,14,"options"],[41,17,22,21],[41,20,22,24,"_CALLBACKS"],[41,30,22,34],[41,31,22,35,"id"],[41,33,22,34],[41,34,22,8],[43,0,23,8],[43,10,23,12,"options"],[43,17,23,19],[43,21,23,23,"options"],[43,28,23,30],[43,29,23,31,"onStart"],[43,36,23,8],[43,38,23,40],[44,0,24,12,"options"],[44,8,24,12,"options"],[44,15,24,19],[44,16,24,20,"onStart"],[44,23,24,12],[45,0,25,9],[46,0,26,5],[46,5,21,23],[46,6,21,4],[47,0,27,4,"setSpeakingListener"],[47,4,27,4,"setSpeakingListener"],[47,23,27,23],[47,24,27,24],[47,47,27,23],[47,49,27,49],[47,66,27,61],[48,0,27,61],[48,10,27,52,"id"],[48,12,27,61],[48,21,27,52,"id"],[48,23,27,61],[49,0,28,8],[49,10,28,14,"options"],[49,17,28,21],[49,20,28,24,"_CALLBACKS"],[49,30,28,34],[49,31,28,35,"id"],[49,33,28,34],[49,34,28,8],[51,0,29,8],[51,10,29,12,"options"],[51,17,29,19],[51,21,29,23,"options"],[51,28,29,30],[51,29,29,31,"onDone"],[51,35,29,8],[51,37,29,39],[52,0,30,12,"options"],[52,8,30,12,"options"],[52,15,30,19],[52,16,30,20,"onDone"],[52,22,30,12],[53,0,31,9],[55,0,32,8],[55,13,32,15,"_CALLBACKS"],[55,23,32,25],[55,24,32,26,"id"],[55,26,32,25],[55,27,32,8],[57,0,33,8,"_unregisterListenersIfNeeded"],[57,6,33,8,"_unregisterListenersIfNeeded"],[57,34,33,36],[58,0,34,5],[58,5,27,23],[58,6,27,4],[59,0,35,4,"setSpeakingListener"],[59,4,35,4,"setSpeakingListener"],[59,23,35,23],[59,24,35,24],[59,50,35,23],[59,52,35,52],[59,69,35,64],[60,0,35,64],[60,10,35,55,"id"],[60,12,35,64],[60,21,35,55,"id"],[60,23,35,64],[61,0,36,8],[61,10,36,14,"options"],[61,17,36,21],[61,20,36,24,"_CALLBACKS"],[61,30,36,34],[61,31,36,35,"id"],[61,33,36,34],[61,34,36,8],[63,0,37,8],[63,10,37,12,"options"],[63,17,37,19],[63,21,37,23,"options"],[63,28,37,30],[63,29,37,31,"onStopped"],[63,38,37,8],[63,40,37,42],[64,0,38,12,"options"],[64,8,38,12,"options"],[64,15,38,19],[64,16,38,20,"onStopped"],[64,25,38,12],[65,0,39,9],[67,0,40,8],[67,13,40,15,"_CALLBACKS"],[67,23,40,25],[67,24,40,26,"id"],[67,26,40,25],[67,27,40,8],[69,0,41,8,"_unregisterListenersIfNeeded"],[69,6,41,8,"_unregisterListenersIfNeeded"],[69,34,41,36],[70,0,42,5],[70,5,35,23],[70,6,35,4],[71,0,43,4,"setSpeakingListener"],[71,4,43,4,"setSpeakingListener"],[71,23,43,23],[71,24,43,24],[71,48,43,23],[71,50,43,50],[71,67,43,69],[72,0,43,69],[72,10,43,53,"id"],[72,12,43,69],[72,21,43,53,"id"],[72,23,43,69],[73,0,43,69],[73,10,43,57,"error"],[73,15,43,69],[73,24,43,57,"error"],[73,29,43,69],[74,0,44,8],[74,10,44,14,"options"],[74,17,44,21],[74,20,44,24,"_CALLBACKS"],[74,30,44,34],[74,31,44,35,"id"],[74,33,44,34],[74,34,44,8],[76,0,45,8],[76,10,45,12,"options"],[76,17,45,19],[76,21,45,23,"options"],[76,28,45,30],[76,29,45,31,"onError"],[76,36,45,8],[76,38,45,40],[77,0,46,12,"options"],[77,8,46,12,"options"],[77,15,46,19],[77,16,46,20,"onError"],[77,23,46,12],[77,24,46,28],[77,28,46,32,"Error"],[77,33,46,28],[77,34,46,38,"error"],[77,39,46,28],[77,40,46,12],[78,0,47,9],[80,0,48,8],[80,13,48,15,"_CALLBACKS"],[80,23,48,25],[80,24,48,26,"id"],[80,26,48,25],[80,27,48,8],[82,0,49,8,"_unregisterListenersIfNeeded"],[82,6,49,8,"_unregisterListenersIfNeeded"],[82,34,49,36],[83,0,50,5],[83,5,43,23],[83,6,43,4],[84,0,51,1],[86,0,52,7],[86,11,52,16,"speak"],[86,16,52,7],[86,17,52,22,"text"],[86,21,52,7],[86,23,52,42],[87,0,52,42],[87,8,52,28,"options"],[87,15,52,42],[87,86,52,38],[87,88,52,42],[88,0,53,4],[88,8,53,10,"id"],[88,10,53,12],[88,13,53,15,"_nextCallbackId"],[88,28,53,30],[88,30,53,4],[89,0,54,4,"_CALLBACKS"],[89,4,54,4,"_CALLBACKS"],[89,14,54,14],[89,15,54,15,"id"],[89,17,54,14],[89,18,54,4],[89,21,54,21,"options"],[89,28,54,4],[91,0,55,4,"_registerListenersIfNeeded"],[91,4,55,4,"_registerListenersIfNeeded"],[91,30,55,30],[93,0,56,4,"ExponentSpeech"],[93,28,56,19,"speak"],[93,33,56,4],[93,34,56,25,"String"],[93,40,56,31],[93,41,56,32,"id"],[93,43,56,31],[93,44,56,4],[93,46,56,37,"text"],[93,50,56,4],[93,52,56,43,"options"],[93,59,56,4],[94,0,57,1],[96,0,58,7],[96,11,58,22,"isSpeakingAsync"],[96,26,58,7],[97,0,58,7],[98,0,58,7],[99,0,58,7],[100,0,58,7],[101,0,58,7],[101,45,59,11,"ExponentSpeech"],[101,69,59,26,"isSpeaking"],[101,79,59,11],[101,81,58,7],[103,0,58,7],[104,0,58,7],[105,0,58,7],[106,0,58,7],[107,0,58,7],[108,0,58,7],[109,0,58,7],[111,0,61,7],[111,11,61,16,"stop"],[111,15,61,7],[111,18,61,23],[112,0,62,4],[112,11,62,11,"ExponentSpeech"],[112,35,62,26,"stop"],[112,39,62,11],[112,41,62,4],[113,0,63,1],[115,0,64,7],[115,11,64,16,"pause"],[115,16,64,7],[115,19,64,24],[116,0,65,4],[116,8,65,8],[116,9,65,9,"ExponentSpeech"],[116,33,65,24,"pause"],[116,38,65,4],[116,40,65,31],[117,0,66,8],[117,12,66,14],[117,16,66,18,"UnavailabilityError"],[117,47,66,14],[117,48,66,38],[117,56,66,14],[117,58,66,48],[117,65,66,14],[117,66,66,8],[118,0,67,5],[120,0,68,4],[120,11,68,11,"ExponentSpeech"],[120,35,68,26,"pause"],[120,40,68,11],[120,42,68,4],[121,0,69,1],[123,0,70,7],[123,11,70,16,"resume"],[123,17,70,7],[123,20,70,25],[124,0,71,4],[124,8,71,8],[124,9,71,9,"ExponentSpeech"],[124,33,71,24,"resume"],[124,39,71,4],[124,41,71,32],[125,0,72,8],[125,12,72,14],[125,16,72,18,"UnavailabilityError"],[125,47,72,14],[125,48,72,38],[125,56,72,14],[125,58,72,48],[125,66,72,14],[125,67,72,8],[126,0,73,5],[128,0,74,4],[128,11,74,11,"ExponentSpeech"],[128,35,74,26,"resume"],[128,41,74,11],[128,43,74,4],[129,0,75,1],[131,0,76,0],[131,11,76,9,"setSpeakingListener"],[131,30,76,0],[131,31,76,29,"eventName"],[131,40,76,0],[131,42,76,40,"callback"],[131,50,76,0],[131,52,76,50],[132,0,77,4],[132,8,77,8,"SpeechEventEmitter"],[132,26,77,26],[132,27,77,27,"listeners"],[132,36,77,8],[132,37,77,37,"eventName"],[132,46,77,8],[132,48,77,48,"length"],[132,54,77,8],[132,57,77,57],[132,58,77,4],[132,60,77,60],[133,0,78,8,"SpeechEventEmitter"],[133,6,78,8,"SpeechEventEmitter"],[133,24,78,26],[133,25,78,27,"removeAllListeners"],[133,43,78,8],[133,44,78,46,"eventName"],[133,53,78,8],[134,0,79,5],[136,0,80,4,"SpeechEventEmitter"],[136,4,80,4,"SpeechEventEmitter"],[136,22,80,22],[136,23,80,23,"addListener"],[136,34,80,4],[136,35,80,35,"eventName"],[136,44,80,4],[136,46,80,46,"callback"],[136,54,80,4],[137,0,81,1],[139,0,82,0],[139,11,82,9,"removeSpeakingListener"],[139,33,82,0],[139,34,82,32,"eventName"],[139,43,82,0],[139,45,82,43],[140,0,83,4,"SpeechEventEmitter"],[140,4,83,4,"SpeechEventEmitter"],[140,22,83,22],[140,23,83,23,"removeAllListeners"],[140,41,83,4],[140,42,83,42,"eventName"],[140,51,83,4],[141,0,84,1]]},"type":"js/module"}]}