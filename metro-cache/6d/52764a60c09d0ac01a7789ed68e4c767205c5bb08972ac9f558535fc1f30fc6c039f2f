{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"../ReanimatedModule","data":{"isAsync":false}},{"name":"./AnimatedNode","data":{"isAsync":false}},{"name":"./AnimatedValue","data":{"isAsync":false}},{"name":"./AnimatedAlways","data":{"isAsync":false}},{"name":"fbjs/lib/invariant","data":{"isAsync":false}},{"name":"./createEventObjectProxyPolyfill","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[6], \"react-native\");\n\n  var _ReanimatedModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../ReanimatedModule\"));\n\n  var _AnimatedNode2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./AnimatedNode\"));\n\n  var _AnimatedValue = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./AnimatedValue\"));\n\n  var _AnimatedAlways = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[10], \"./AnimatedAlways\"));\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[11], \"fbjs/lib/invariant\"));\n\n  var _createEventObjectProxyPolyfill = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[12], \"./createEventObjectProxyPolyfill\"));\n\n  function sanitizeArgMapping(argMapping) {\n    var eventMappings = [];\n    var alwaysNodes = [];\n\n    var traverse = function traverse(value, path) {\n      if (value instanceof _AnimatedValue.default) {\n        eventMappings.push(path.concat(value.__nodeID));\n      } else if (typeof value === 'object' && value.__val) {\n        eventMappings.push(path.concat(value.__val.__nodeID));\n      } else if (typeof value === 'function') {\n        var node = new _AnimatedValue.default(0);\n        alwaysNodes.push(new _AnimatedAlways.default(value(node)));\n        eventMappings.push(path.concat(node.__nodeID));\n      } else if (typeof value === 'object') {\n        for (var key in value) {\n          traverse(value[key], path.concat(key));\n        }\n      }\n    };\n\n    (0, _invariant.default)(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.');\n    var ev = argMapping[0].nativeEvent;\n\n    if (typeof ev === 'object') {\n      traverse(ev, []);\n    } else if (typeof ev === 'function') {\n      var proxyHandler = {\n        get: function get(target, name) {\n          if (name === '__isProxy') {\n            return true;\n          }\n\n          if (!target[name] && name !== '__val') {\n            target[name] = new Proxy({}, proxyHandler);\n          }\n\n          return target[name];\n        },\n        set: function set(target, prop, value) {\n          if (prop === '__val') {\n            target[prop] = value;\n          }\n        }\n      };\n      var proxy = typeof Proxy === 'function' ? new Proxy({}, proxyHandler) : (0, _createEventObjectProxyPolyfill.default)();\n      alwaysNodes.push(new _AnimatedAlways.default(ev(proxy)));\n      traverse(proxy, []);\n    }\n\n    return {\n      eventMappings: eventMappings,\n      alwaysNodes: alwaysNodes\n    };\n  }\n\n  var AnimatedEvent = function (_AnimatedNode) {\n    (0, _inherits2.default)(AnimatedEvent, _AnimatedNode);\n\n    function AnimatedEvent(argMapping) {\n      var _this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      (0, _classCallCheck2.default)(this, AnimatedEvent);\n\n      var _sanitizeArgMapping = sanitizeArgMapping(argMapping),\n          eventMappings = _sanitizeArgMapping.eventMappings,\n          alwaysNodes = _sanitizeArgMapping.alwaysNodes;\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(AnimatedEvent).call(this, {\n        type: 'event',\n        argMapping: eventMappings\n      }));\n      _this.__isNative = true;\n      _this._alwaysNodes = alwaysNodes;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AnimatedEvent, [{\n      key: \"attachEvent\",\n      value: function attachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].__attach();\n        }\n\n        this.__attach();\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.attachEvent(viewTag, eventName, this.__nodeID);\n      }\n    }, {\n      key: \"detachEvent\",\n      value: function detachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].isNativelyInitialized() && this._alwaysNodes[i].__detach();\n        }\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.detachEvent(viewTag, eventName, this.__nodeID);\n\n        this.__detach();\n      }\n    }]);\n    return AnimatedEvent;\n  }(_AnimatedNode2.default);\n\n  exports.default = AnimatedEvent;\n});","map":[[19,0,1,0],[21,0,2,0],[23,0,4,0],[25,0,5,0],[27,0,6,0],[29,0,8,0],[31,0,9,0],[33,0,11,0],[33,11,11,9,"sanitizeArgMapping"],[33,29,11,0],[33,30,11,28,"argMapping"],[33,40,11,0],[33,42,11,40],[34,0,14,2],[34,8,14,8,"eventMappings"],[34,21,14,21],[34,24,14,24],[34,26,14,2],[35,0,15,2],[35,8,15,8,"alwaysNodes"],[35,19,15,19],[35,22,15,22],[35,24,15,2],[37,0,17,2],[37,8,17,8,"traverse"],[37,16,17,16],[37,19,17,19],[37,28,17,8,"traverse"],[37,36,17,19],[37,37,17,20,"value"],[37,42,17,19],[37,44,17,27,"path"],[37,48,17,19],[37,50,17,36],[38,0,18,4],[38,10,18,8,"value"],[38,15,18,13],[38,27,18,25,"AnimatedValue"],[38,49,18,4],[38,51,18,40],[39,0,19,6,"eventMappings"],[39,8,19,6,"eventMappings"],[39,21,19,19],[39,22,19,20,"push"],[39,26,19,6],[39,27,19,25,"path"],[39,31,19,29],[39,32,19,30,"concat"],[39,38,19,25],[39,39,19,37,"value"],[39,44,19,42],[39,45,19,43,"__nodeID"],[39,53,19,25],[39,54,19,6],[40,0,20,5],[40,7,18,4],[40,13,20,11],[40,17,20,15],[40,24,20,22,"value"],[40,29,20,15],[40,34,20,32],[40,42,20,15],[40,46,20,44,"value"],[40,51,20,49],[40,52,20,50,"__val"],[40,57,20,11],[40,59,20,57],[41,0,21,6,"eventMappings"],[41,8,21,6,"eventMappings"],[41,21,21,19],[41,22,21,20,"push"],[41,26,21,6],[41,27,21,25,"path"],[41,31,21,29],[41,32,21,30,"concat"],[41,38,21,25],[41,39,21,37,"value"],[41,44,21,42],[41,45,21,43,"__val"],[41,50,21,37],[41,51,21,49,"__nodeID"],[41,59,21,25],[41,60,21,6],[42,0,22,5],[42,7,20,11],[42,13,22,11],[42,17,22,15],[42,24,22,22,"value"],[42,29,22,15],[42,34,22,32],[42,44,22,11],[42,46,22,44],[43,0,23,6],[43,12,23,12,"node"],[43,16,23,16],[43,19,23,19],[43,23,23,23,"AnimatedValue"],[43,45,23,19],[43,46,23,37],[43,47,23,19],[43,48,23,6],[44,0,24,6,"alwaysNodes"],[44,8,24,6,"alwaysNodes"],[44,19,24,17],[44,20,24,18,"push"],[44,24,24,6],[44,25,24,23],[44,29,24,27,"AnimatedAlways"],[44,52,24,23],[44,53,24,42,"value"],[44,58,24,47],[44,59,24,48,"node"],[44,63,24,47],[44,64,24,23],[44,65,24,6],[45,0,25,6,"eventMappings"],[45,8,25,6,"eventMappings"],[45,21,25,19],[45,22,25,20,"push"],[45,26,25,6],[45,27,25,25,"path"],[45,31,25,29],[45,32,25,30,"concat"],[45,38,25,25],[45,39,25,37,"node"],[45,43,25,41],[45,44,25,42,"__nodeID"],[45,52,25,25],[45,53,25,6],[46,0,26,5],[46,7,22,11],[46,13,26,11],[46,17,26,15],[46,24,26,22,"value"],[46,29,26,15],[46,34,26,32],[46,42,26,11],[46,44,26,42],[47,0,27,6],[47,13,27,11],[47,17,27,17,"key"],[47,20,27,6],[47,24,27,24,"value"],[47,29,27,6],[47,31,27,31],[48,0,28,8,"traverse"],[48,10,28,8,"traverse"],[48,18,28,16],[48,19,28,17,"value"],[48,24,28,22],[48,25,28,23,"key"],[48,28,28,22],[48,29,28,16],[48,31,28,29,"path"],[48,35,28,33],[48,36,28,34,"concat"],[48,42,28,29],[48,43,28,41,"key"],[48,46,28,29],[48,47,28,16],[48,48,28,8],[49,0,29,7],[50,0,30,5],[51,0,31,3],[51,5,17,2],[53,0,33,2],[53,28,34,4,"argMapping"],[53,38,34,14],[53,39,34,15],[53,40,34,14],[53,41,34,4],[53,45,34,21,"argMapping"],[53,55,34,31],[53,56,34,32],[53,57,34,31],[53,58,34,21],[53,59,34,35,"nativeEvent"],[53,70,33,2],[53,72,35,4],[53,155,33,2],[54,0,39,2],[54,8,39,8,"ev"],[54,10,39,10],[54,13,39,13,"argMapping"],[54,23,39,23],[54,24,39,24],[54,25,39,23],[54,26,39,13],[54,27,39,27,"nativeEvent"],[54,38,39,2],[56,0,40,2],[56,8,40,6],[56,15,40,13,"ev"],[56,17,40,6],[56,22,40,20],[56,30,40,2],[56,32,40,30],[57,0,41,4,"traverse"],[57,6,41,4,"traverse"],[57,14,41,12],[57,15,41,13,"ev"],[57,17,41,12],[57,19,41,17],[57,21,41,12],[57,22,41,4],[58,0,42,3],[58,5,40,2],[58,11,42,9],[58,15,42,13],[58,22,42,20,"ev"],[58,24,42,13],[58,29,42,27],[58,39,42,9],[58,41,42,39],[59,0,43,4],[59,10,43,10,"proxyHandler"],[59,22,43,22],[59,25,43,25],[60,0,44,6,"get"],[60,8,44,6,"get"],[60,11,44,9],[60,13,44,11],[60,26,44,20,"target"],[60,32,44,11],[60,34,44,28,"name"],[60,38,44,11],[60,40,44,34],[61,0,45,8],[61,14,45,12,"name"],[61,18,45,16],[61,23,45,21],[61,34,45,8],[61,36,45,34],[62,0,46,10],[62,19,46,17],[62,23,46,10],[63,0,47,9],[65,0,48,8],[65,14,48,12],[65,15,48,13,"target"],[65,21,48,19],[65,22,48,20,"name"],[65,26,48,19],[65,27,48,12],[65,31,48,29,"name"],[65,35,48,33],[65,40,48,38],[65,47,48,8],[65,49,48,47],[66,0,49,10,"target"],[66,12,49,10,"target"],[66,18,49,16],[66,19,49,17,"name"],[66,23,49,16],[66,24,49,10],[66,27,49,25],[66,31,49,29,"Proxy"],[66,36,49,25],[66,37,49,35],[66,39,49,25],[66,41,49,39,"proxyHandler"],[66,53,49,25],[66,54,49,10],[67,0,50,9],[69,0,51,8],[69,17,51,15,"target"],[69,23,51,21],[69,24,51,22,"name"],[69,28,51,21],[69,29,51,8],[70,0,52,7],[70,9,43,25],[71,0,53,6,"set"],[71,8,53,6,"set"],[71,11,53,9],[71,13,53,11],[71,26,53,20,"target"],[71,32,53,11],[71,34,53,28,"prop"],[71,38,53,11],[71,40,53,34,"value"],[71,45,53,11],[71,47,53,41],[72,0,54,8],[72,14,54,12,"prop"],[72,18,54,16],[72,23,54,21],[72,30,54,8],[72,32,54,30],[73,0,55,10,"target"],[73,12,55,10,"target"],[73,18,55,16],[73,19,55,17,"prop"],[73,23,55,16],[73,24,55,10],[73,27,55,25,"value"],[73,32,55,10],[74,0,56,9],[75,0,57,7],[76,0,43,25],[76,7,43,4],[77,0,60,4],[77,10,60,10,"proxy"],[77,15,60,15],[77,18,61,6],[77,25,61,13,"Proxy"],[77,30,61,6],[77,35,61,23],[77,45,61,6],[77,48,62,10],[77,52,62,14,"Proxy"],[77,57,62,10],[77,58,62,20],[77,60,62,10],[77,62,62,24,"proxyHandler"],[77,74,62,10],[77,75,61,6],[77,78,63,10],[77,124,60,4],[78,0,64,4,"alwaysNodes"],[78,6,64,4,"alwaysNodes"],[78,17,64,15],[78,18,64,16,"push"],[78,22,64,4],[78,23,64,21],[78,27,64,25,"AnimatedAlways"],[78,50,64,21],[78,51,64,40,"ev"],[78,53,64,42],[78,54,64,43,"proxy"],[78,59,64,42],[78,60,64,21],[78,61,64,4],[79,0,65,4,"traverse"],[79,6,65,4,"traverse"],[79,14,65,12],[79,15,65,13,"proxy"],[79,20,65,12],[79,22,65,20],[79,24,65,12],[79,25,65,4],[80,0,66,3],[82,0,68,2],[82,11,68,9],[83,0,68,11,"eventMappings"],[83,6,68,11,"eventMappings"],[83,19,68,24],[83,21,68,11,"eventMappings"],[83,34,68,9],[84,0,68,26,"alwaysNodes"],[84,6,68,26,"alwaysNodes"],[84,17,68,37],[84,19,68,26,"alwaysNodes"],[85,0,68,9],[85,5,68,2],[86,0,69,1],[88,6,71,21,"AnimatedEvent"],[88,19],[91,0,72,2],[91,27,72,14,"argMapping"],[91,37,72,2],[91,39,72,39],[92,0,72,39],[94,0,72,39],[94,10,72,26,"config"],[94,16,72,39],[94,87,72,35],[94,89,72,39],[95,0,72,39],[97,0,72,39],[97,32,73,43,"sanitizeArgMapping"],[97,50,73,61],[97,51,73,62,"argMapping"],[97,61,73,61],[97,62,72,39],[98,0,72,39],[98,10,73,12,"eventMappings"],[98,23,72,39],[98,46,73,12,"eventMappings"],[98,59,72,39],[99,0,72,39],[99,10,73,27,"alwaysNodes"],[99,21,72,39],[99,44,73,27,"alwaysNodes"],[99,55,72,39],[101,0,74,4],[101,117,74,10],[102,0,74,12,"type"],[102,8,74,12,"type"],[102,12,74,16],[102,14,74,18],[102,21,74,10],[103,0,74,27,"argMapping"],[103,8,74,27,"argMapping"],[103,18,74,37],[103,20,74,39,"eventMappings"],[104,0,74,10],[104,7,74,4],[105,0,72,39],[105,12,81,2,"__isNative"],[105,22,72,39],[105,25,81,15],[105,29,72,39],[106,0,75,4],[106,12,75,9,"_alwaysNodes"],[106,24,75,4],[106,27,75,24,"alwaysNodes"],[106,38,75,4],[107,0,72,39],[108,0,76,3],[112,34,83,14,"viewRef"],[112,41],[112,43,83,23,"eventName"],[112,52],[112,54,83,34],[113,0,84,4],[113,13,84,9],[113,17,84,13,"i"],[113,18,84,14],[113,21,84,17],[113,22,84,4],[113,24,84,20,"i"],[113,25,84,21],[113,28,84,24],[113,33,84,29,"_alwaysNodes"],[113,45,84,24],[113,46,84,42,"length"],[113,52,84,4],[113,54,84,50,"i"],[113,55,84,51],[113,57,84,4],[113,59,84,55],[114,0,85,6],[114,15,85,11,"_alwaysNodes"],[114,27,85,6],[114,28,85,24,"i"],[114,29,85,6],[114,31,85,27,"__attach"],[114,39,85,6],[115,0,86,5],[117,0,87,4],[117,13,87,9,"__attach"],[117,21,87,4],[119,0,88,4],[119,12,88,10,"viewTag"],[119,19,88,17],[119,22,88,20],[119,55,88,35,"viewRef"],[119,62,88,20],[119,63,88,4],[121,0,89,4,"ReanimatedModule"],[121,34,89,21,"attachEvent"],[121,45,89,4],[121,46,89,33,"viewTag"],[121,53,89,4],[121,55,89,42,"eventName"],[121,64,89,4],[121,66,89,53],[121,71,89,58,"__nodeID"],[121,79,89,4],[122,0,90,3],[125,34,92,14,"viewRef"],[125,41],[125,43,92,23,"eventName"],[125,52],[125,54,92,34],[126,0,93,4],[126,13,93,9],[126,17,93,13,"i"],[126,18,93,14],[126,21,93,17],[126,22,93,4],[126,24,93,20,"i"],[126,25,93,21],[126,28,93,24],[126,33,93,29,"_alwaysNodes"],[126,45,93,24],[126,46,93,42,"length"],[126,52,93,4],[126,54,93,50,"i"],[126,55,93,51],[126,57,93,4],[126,59,93,55],[127,0,94,6],[127,15,94,11,"_alwaysNodes"],[127,27,94,6],[127,28,94,24,"i"],[127,29,94,6],[127,31,94,27,"isNativelyInitialized"],[127,52,94,6],[127,58,95,8],[127,63,95,13,"_alwaysNodes"],[127,75,95,8],[127,76,95,26,"i"],[127,77,95,8],[127,79,95,29,"__detach"],[127,87,95,8],[127,89,94,6],[128,0,96,5],[130,0,97,4],[130,12,97,10,"viewTag"],[130,19,97,17],[130,22,97,20],[130,55,97,35,"viewRef"],[130,62,97,20],[130,63,97,4],[132,0,98,4,"ReanimatedModule"],[132,34,98,21,"detachEvent"],[132,45,98,4],[132,46,98,33,"viewTag"],[132,53,98,4],[132,55,98,42,"eventName"],[132,64,98,4],[132,66,98,53],[132,71,98,58,"__nodeID"],[132,79,98,4],[134,0,99,4],[134,13,99,9,"__detach"],[134,21,99,4],[135,0,100,3],[138,4,71,43,"AnimatedNode"],[138,26]]},"type":"js/module"}]}