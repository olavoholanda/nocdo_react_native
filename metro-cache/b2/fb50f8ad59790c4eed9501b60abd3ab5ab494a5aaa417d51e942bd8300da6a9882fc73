{"dependencies":[{"name":"fbemitter","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.addNewVersionListenerExperimental = addNewVersionListenerExperimental;\n\n  var _fbemitter = _$$_REQUIRE(_dependencyMap[0], \"fbemitter\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[1], \"react-native\");\n\n  var _emitter;\n\n  function _getEmitter() {\n    if (!_emitter) {\n      _emitter = new _fbemitter.EventEmitter();\n\n      _reactNative.DeviceEventEmitter.addListener('Exponent.nativeUpdatesEvent', _emitNewVersionAvailable);\n    }\n\n    return _emitter;\n  }\n\n  function _emitNewVersionAvailable(newVersionEvent) {\n    if (typeof newVersionEvent === 'string') {\n      newVersionEvent = JSON.parse(newVersionEvent);\n    }\n\n    if (newVersionEvent.type === 'downloadFinished') {\n      if (newVersionEvent.manifestString && typeof newVersionEvent.manifestString === 'string') {\n        newVersionEvent.manifest = JSON.parse(newVersionEvent.manifestString);\n        delete newVersionEvent.manifestString;\n      }\n\n      delete newVersionEvent.type;\n\n      if (!_emitter) {\n        throw new Error(\"EventEmitter must be initialized to use from its listener\");\n      }\n\n      _emitter.emit('newVersionAvailable', newVersionEvent);\n    }\n  }\n\n  function addNewVersionListenerExperimental(listener) {\n    console.warn('Util.addNewVersionListenerExperimental is deprecated and will be removed in SDK 31, use Updates.addListener instead');\n\n    var emitter = _getEmitter();\n\n    return emitter.addListener('newVersionAvailable', listener);\n  }\n});","map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[11,6,3,4,"_emitter"],[11,14,3,0],[13,0,4,0],[13,11,4,9,"_getEmitter"],[13,22,4,0],[13,25,4,23],[14,0,5,4],[14,8,5,8],[14,9,5,9,"_emitter"],[14,17,5,4],[14,19,5,19],[15,0,6,8,"_emitter"],[15,6,6,8,"_emitter"],[15,14,6,16],[15,17,6,19],[15,21,6,23,"EventEmitter"],[15,44,6,19],[15,46,6,8],[17,0,7,8,"DeviceEventEmitter"],[17,38,7,27,"addListener"],[17,49,7,8],[17,50,7,39],[17,79,7,8],[17,81,7,70,"_emitNewVersionAvailable"],[17,105,7,8],[18,0,8,5],[20,0,9,4],[20,11,9,11,"_emitter"],[20,19,9,4],[21,0,10,1],[23,0,11,0],[23,11,11,9,"_emitNewVersionAvailable"],[23,35,11,0],[23,36,11,34,"newVersionEvent"],[23,51,11,0],[23,53,11,51],[24,0,12,4],[24,8,12,8],[24,15,12,15,"newVersionEvent"],[24,30,12,8],[24,35,12,35],[24,43,12,4],[24,45,12,45],[25,0,13,8,"newVersionEvent"],[25,6,13,8,"newVersionEvent"],[25,21,13,23],[25,24,13,26,"JSON"],[25,28,13,30],[25,29,13,31,"parse"],[25,34,13,26],[25,35,13,37,"newVersionEvent"],[25,50,13,26],[25,51,13,8],[26,0,14,5],[28,0,16,4],[28,8,16,8,"newVersionEvent"],[28,23,16,23],[28,24,16,24,"type"],[28,28,16,8],[28,33,16,33],[28,51,16,4],[28,53,16,53],[29,0,17,8],[29,10,17,12,"newVersionEvent"],[29,25,17,27],[29,26,17,28,"manifestString"],[29,40,17,12],[29,44,17,46],[29,51,17,53,"newVersionEvent"],[29,66,17,68],[29,67,17,69,"manifestString"],[29,81,17,46],[29,86,17,88],[29,94,17,8],[29,96,17,98],[30,0,18,12,"newVersionEvent"],[30,8,18,12,"newVersionEvent"],[30,23,18,27],[30,24,18,28,"manifest"],[30,32,18,12],[30,35,18,39,"JSON"],[30,39,18,43],[30,40,18,44,"parse"],[30,45,18,39],[30,46,18,50,"newVersionEvent"],[30,61,18,65],[30,62,18,66,"manifestString"],[30,76,18,39],[30,77,18,12],[31,0,19,12],[31,15,19,19,"newVersionEvent"],[31,30,19,34],[31,31,19,35,"manifestString"],[31,45,19,12],[32,0,20,9],[34,0,21,8],[34,13,21,15,"newVersionEvent"],[34,28,21,30],[34,29,21,31,"type"],[34,33,21,8],[36,0,22,8],[36,10,22,12],[36,11,22,13,"_emitter"],[36,19,22,8],[36,21,22,23],[37,0,23,12],[37,14,23,18],[37,18,23,22,"Error"],[37,23,23,18],[37,84,23,12],[38,0,24,9],[40,0,25,8,"_emitter"],[40,6,25,8,"_emitter"],[40,14,25,16],[40,15,25,17,"emit"],[40,19,25,8],[40,20,25,22],[40,41,25,8],[40,43,25,45,"newVersionEvent"],[40,58,25,8],[41,0,26,5],[42,0,27,1],[44,0,28,7],[44,11,28,16,"addNewVersionListenerExperimental"],[44,44,28,7],[44,45,28,50,"listener"],[44,53,28,7],[44,55,28,60],[45,0,29,4,"console"],[45,4,29,4,"console"],[45,11,29,11],[45,12,29,12,"warn"],[45,16,29,4],[45,17,29,17],[45,134,29,4],[47,0,30,4],[47,8,30,8,"emitter"],[47,15,30,15],[47,18,30,18,"_getEmitter"],[47,29,30,29],[47,31,30,4],[49,0,31,4],[49,11,31,11,"emitter"],[49,18,31,18],[49,19,31,19,"addListener"],[49,30,31,11],[49,31,31,31],[49,52,31,11],[49,54,31,54,"listener"],[49,62,31,11],[49,63,31,4],[50,0,32,1]]},"type":"js/module"}]}