{"dependencies":[{"name":"../base","data":{"isAsync":false}},{"name":"../derived","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = decay;\n\n  var _base = _$$_REQUIRE(_dependencyMap[0], \"../base\");\n\n  var _derived = _$$_REQUIRE(_dependencyMap[1], \"../derived\");\n\n  var VELOCITY_EPS = 5;\n\n  function decay(clock, state, config) {\n    var lastTime = (0, _base.cond)(state.time, state.time, clock);\n    var deltaTime = (0, _base.sub)(clock, lastTime);\n    var kv = (0, _base.pow)(config.deceleration, deltaTime);\n    var kx = (0, _base.divide)((0, _base.multiply)(config.deceleration, (0, _base.sub)(1, kv)), (0, _base.sub)(1, config.deceleration));\n    var v0 = (0, _base.divide)(state.velocity, 1000);\n    var v = (0, _base.multiply)(v0, kv, 1000);\n    var x = (0, _base.add)(state.position, (0, _base.multiply)(v0, kx));\n    return (0, _base.block)([(0, _base.set)(state.position, x), (0, _base.set)(state.velocity, v), (0, _base.set)(state.time, clock), (0, _base.cond)((0, _base.lessThan)((0, _derived.abs)(v), VELOCITY_EPS), (0, _base.set)(state.finished, 1))]);\n  }\n});","map":[[7,0,1,0],[9,0,12,0],[11,0,14,0],[11,6,14,6,"VELOCITY_EPS"],[11,18,14,18],[11,21,14,21],[11,22,14,0],[13,0,16,15],[13,11,16,24,"decay"],[13,16,16,15],[13,17,16,30,"clock"],[13,22,16,15],[13,24,16,37,"state"],[13,29,16,15],[13,31,16,44,"config"],[13,37,16,15],[13,39,16,52],[14,0,17,2],[14,8,17,8,"lastTime"],[14,16,17,16],[14,19,17,19],[14,35,17,24,"state"],[14,40,17,29],[14,41,17,30,"time"],[14,45,17,19],[14,47,17,36,"state"],[14,52,17,41],[14,53,17,42,"time"],[14,57,17,19],[14,59,17,48,"clock"],[14,64,17,19],[14,65,17,2],[15,0,18,2],[15,8,18,8,"deltaTime"],[15,17,18,17],[15,20,18,20],[15,35,18,24,"clock"],[15,40,18,20],[15,42,18,31,"lastTime"],[15,50,18,20],[15,51,18,2],[16,0,26,2],[16,8,26,8,"kv"],[16,10,26,10],[16,13,26,13],[16,28,26,17,"config"],[16,34,26,23],[16,35,26,24,"deceleration"],[16,47,26,13],[16,49,26,38,"deltaTime"],[16,58,26,13],[16,59,26,2],[17,0,27,2],[17,8,27,8,"kx"],[17,10,27,10],[17,13,27,13],[17,31,28,4],[17,51,28,13,"config"],[17,57,28,19],[17,58,28,20,"deceleration"],[17,70,28,4],[17,72,28,34],[17,87,28,38],[17,88,28,34],[17,90,28,41,"kv"],[17,92,28,34],[17,93,28,4],[17,94,27,13],[17,96,29,4],[17,111,29,8],[17,112,29,4],[17,114,29,11,"config"],[17,120,29,17],[17,121,29,18,"deceleration"],[17,133,29,4],[17,134,27,13],[17,135,27,2],[18,0,31,2],[18,8,31,8,"v0"],[18,10,31,10],[18,13,31,13],[18,31,31,20,"state"],[18,36,31,25],[18,37,31,26,"velocity"],[18,45,31,13],[18,47,31,36],[18,51,31,13],[18,52,31,2],[19,0,32,2],[19,8,32,8,"v"],[19,9,32,9],[19,12,32,12],[19,32,32,21,"v0"],[19,34,32,12],[19,36,32,25,"kv"],[19,38,32,12],[19,40,32,29],[19,44,32,12],[19,45,32,2],[20,0,33,2],[20,8,33,8,"x"],[20,9,33,9],[20,12,33,12],[20,27,33,16,"state"],[20,32,33,21],[20,33,33,22,"position"],[20,41,33,12],[20,43,33,32],[20,63,33,41,"v0"],[20,65,33,32],[20,67,33,45,"kx"],[20,69,33,32],[20,70,33,12],[20,71,33,2],[21,0,34,2],[21,11,34,9],[21,28,34,15],[21,29,35,4],[21,44,35,8,"state"],[21,49,35,13],[21,50,35,14,"position"],[21,58,35,4],[21,60,35,24,"x"],[21,61,35,4],[21,62,34,15],[21,64,36,4],[21,79,36,8,"state"],[21,84,36,13],[21,85,36,14,"velocity"],[21,93,36,4],[21,95,36,24,"v"],[21,96,36,4],[21,97,34,15],[21,99,37,4],[21,114,37,8,"state"],[21,119,37,13],[21,120,37,14,"time"],[21,124,37,4],[21,126,37,20,"clock"],[21,131,37,4],[21,132,34,15],[21,134,38,4],[21,150,38,9],[21,170,38,18],[21,188,38,22,"v"],[21,189,38,18],[21,190,38,9],[21,192,38,26,"VELOCITY_EPS"],[21,204,38,9],[21,205,38,4],[21,207,38,41],[21,222,38,45,"state"],[21,227,38,50],[21,228,38,51,"finished"],[21,236,38,41],[21,238,38,61],[21,239,38,41],[21,240,38,4],[21,241,34,15],[21,242,34,9],[21,243,34,2],[22,0,40,1]]},"type":"js/module"}]}