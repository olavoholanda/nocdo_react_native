{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"fbemitter","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _fbemitter = _$$_REQUIRE(_dependencyMap[5], \"fbemitter\");\n\n  var CTKNativeAdManager = _reactNative.NativeModules.CTKNativeAdManager,\n      CTKNativeAdEmitter = _reactNative.NativeModules.CTKNativeAdEmitter;\n  var nativeAdEmitter = new _reactNative.NativeEventEmitter(CTKNativeAdEmitter);\n  var EVENT_DID_BECOME_VALID = 'AdsManagerDidBecomeValid';\n\n  var NativeAdsManager = function () {\n    function NativeAdsManager(placementId) {\n      var adsToRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      (0, _classCallCheck2.default)(this, NativeAdsManager);\n      this.isValid = false;\n      this.eventEmitter = new _fbemitter.EventEmitter();\n      this.placementId = placementId;\n      this.adsToRequest = adsToRequest;\n\n      this._listenForStateChanges();\n\n      CTKNativeAdManager.init(placementId, adsToRequest);\n    }\n\n    (0, _createClass2.default)(NativeAdsManager, [{\n      key: \"_listenForStateChanges\",\n      value: function _listenForStateChanges() {\n        var _this = this;\n\n        nativeAdEmitter.addListener('CTKNativeAdsManagersChanged', function (managers) {\n          var isValidNew = managers[_this.placementId];\n          var isValid = _this.isValid;\n\n          if (isValid !== isValidNew && isValidNew) {\n            _this.isValid = true;\n\n            _this.eventEmitter.emit(EVENT_DID_BECOME_VALID);\n          }\n        });\n      }\n    }, {\n      key: \"onAdsLoaded\",\n      value: function onAdsLoaded(listener) {\n        if (this.isValid) {\n          setImmediate(listener);\n          return {\n            remove: function remove() {}\n          };\n        }\n\n        return this.eventEmitter.once(EVENT_DID_BECOME_VALID, listener);\n      }\n    }, {\n      key: \"disableAutoRefresh\",\n      value: function disableAutoRefresh() {\n        CTKNativeAdManager.disableAutoRefresh(this.placementId);\n      }\n    }, {\n      key: \"setMediaCachePolicy\",\n      value: function setMediaCachePolicy(cachePolicy) {\n        CTKNativeAdManager.setMediaCachePolicy(this.placementId, cachePolicy);\n      }\n    }], [{\n      key: \"registerViewsForInteractionAsync\",\n      value: function registerViewsForInteractionAsync(nativeAdViewTag, mediaViewTag, adIconViewTag, clickable) {\n        return _regenerator.default.async(function registerViewsForInteractionAsync$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regenerator.default.awrap(CTKNativeAdManager.registerViewsForInteraction(nativeAdViewTag, mediaViewTag, adIconViewTag, clickable));\n\n              case 2:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"triggerEvent\",\n      value: function triggerEvent(nativeAdViewTag) {\n        return CTKNativeAdManager.triggerEvent(nativeAdViewTag);\n      }\n    }]);\n    return NativeAdsManager;\n  }();\n\n  var _default = NativeAdsManager;\n  exports.default = _default;\n});","map":[[15,0,1,0],[17,0,2,0],[19,6,3,8,"CTKNativeAdManager"],[19,24],[19,27,3,51,"NativeModules"],[19,53],[19,54,3,8,"CTKNativeAdManager"],[19,72],[20,6,3,28,"CTKNativeAdEmitter"],[20,24],[20,27,3,51,"NativeModules"],[20,53],[20,54,3,28,"CTKNativeAdEmitter"],[20,72],[21,0,4,0],[21,6,4,6,"nativeAdEmitter"],[21,21,4,21],[21,24,4,24],[21,28,4,28,"NativeEventEmitter"],[21,59,4,24],[21,60,4,47,"CTKNativeAdEmitter"],[21,78,4,24],[21,79,4,0],[22,0,5,0],[22,6,5,6,"EVENT_DID_BECOME_VALID"],[22,28,5,28],[22,31,5,31],[22,57,5,0],[24,6,6,6,"NativeAdsManager"],[24,22],[25,0,13,4],[25,30,13,16,"placementId"],[25,41,13,4],[25,43,13,48],[26,0,13,48],[26,10,13,29,"adsToRequest"],[26,22,13,48],[26,93,13,44],[26,95,13,48],[27,0,13,48],[28,0,15,8],[28,11,15,13,"isValid"],[28,18,15,8],[28,21,15,23],[28,26,15,8],[29,0,17,8],[29,11,17,13,"eventEmitter"],[29,23,17,8],[29,26,17,28],[29,30,17,32,"EventEmitter"],[29,53,17,28],[29,55,17,8],[30,0,18,8],[30,11,18,13,"placementId"],[30,22,18,8],[30,25,18,27,"placementId"],[30,36,18,8],[31,0,19,8],[31,11,19,13,"adsToRequest"],[31,23,19,8],[31,26,19,28,"adsToRequest"],[31,38,19,8],[33,0,20,8],[33,11,20,13,"_listenForStateChanges"],[33,33,20,8],[35,0,21,8,"CTKNativeAdManager"],[35,6,21,8,"CTKNativeAdManager"],[35,24,21,26],[35,25,21,27,"init"],[35,29,21,8],[35,30,21,32,"placementId"],[35,41,21,8],[35,43,21,45,"adsToRequest"],[35,55,21,8],[36,0,22,5],[40,47,33,29],[41,0,33,29],[43,0,34,8,"nativeAdEmitter"],[43,8,34,8,"nativeAdEmitter"],[43,23,34,23],[43,24,34,24,"addListener"],[43,35,34,8],[43,36,34,36],[43,65,34,8],[43,67,34,67],[43,77,34,67,"managers"],[43,85,34,75],[43,87,34,79],[44,0,35,12],[44,14,35,18,"isValidNew"],[44,24,35,28],[44,27,35,31,"managers"],[44,35,35,39],[44,36,35,40],[44,41,35,44],[44,42,35,45,"placementId"],[44,53,35,39],[44,54,35,12],[45,0,36,12],[45,14,36,18,"isValid"],[45,21,36,25],[45,24,36,28],[45,29,36,32],[45,30,36,33,"isValid"],[45,37,36,12],[47,0,37,12],[47,14,37,16,"isValid"],[47,21,37,23],[47,26,37,28,"isValidNew"],[47,36,37,16],[47,40,37,42,"isValidNew"],[47,50,37,12],[47,52,37,54],[48,0,38,16],[48,12,38,16],[48,17,38,20],[48,18,38,21,"isValid"],[48,25,38,16],[48,28,38,31],[48,32,38,16],[50,0,39,16],[50,12,39,16],[50,17,39,20],[50,18,39,21,"eventEmitter"],[50,30,39,16],[50,31,39,34,"emit"],[50,35,39,16],[50,36,39,39,"EVENT_DID_BECOME_VALID"],[50,58,39,16],[51,0,40,13],[52,0,41,9],[52,9,34,8],[53,0,42,5],[56,34,49,16,"listener"],[56,42],[56,44,49,26],[57,0,50,8],[57,12,50,12],[57,17,50,17,"isValid"],[57,24,50,8],[57,26,50,26],[58,0,51,12,"setImmediate"],[58,10,51,12,"setImmediate"],[58,22,51,24],[58,23,51,25,"listener"],[58,31,51,24],[58,32,51,12],[59,0,52,12],[59,17,52,19],[60,0,53,16,"remove"],[60,12,53,16,"remove"],[60,18,53,22],[60,20,53,24],[60,38,53,30],[60,39,53,33],[61,0,52,19],[61,11,52,12],[62,0,55,9],[64,0,56,8],[64,15,56,15],[64,20,56,20,"eventEmitter"],[64,32,56,15],[64,33,56,33,"once"],[64,37,56,15],[64,38,56,38,"EVENT_DID_BECOME_VALID"],[64,60,56,15],[64,62,56,62,"listener"],[64,70,56,15],[64,71,56,8],[65,0,57,5],[68,43,61,25],[69,0,62,8,"CTKNativeAdManager"],[69,8,62,8,"CTKNativeAdManager"],[69,26,62,26],[69,27,62,27,"disableAutoRefresh"],[69,45,62,8],[69,46,62,46],[69,51,62,51,"placementId"],[69,62,62,8],[70,0,63,5],[73,42,69,24,"cachePolicy"],[73,53],[73,55,69,37],[74,0,70,8,"CTKNativeAdManager"],[74,8,70,8,"CTKNativeAdManager"],[74,26,70,26],[74,27,70,27,"setMediaCachePolicy"],[74,46,70,8],[74,47,70,47],[74,52,70,52,"placementId"],[74,63,70,8],[74,65,70,65,"cachePolicy"],[74,76,70,8],[75,0,71,5],[78,55,23,50,"nativeAdViewTag"],[78,70],[78,72,23,67,"mediaViewTag"],[78,84],[78,86,23,81,"adIconViewTag"],[78,99],[78,101,23,96,"clickable"],[78,110],[84,50,24,21,"CTKNativeAdManager"],[84,68,24,39],[84,69,24,40,"registerViewsForInteraction"],[84,96,24,21],[84,97,24,68,"nativeAdViewTag"],[84,112,24,21],[84,114,24,85,"mediaViewTag"],[84,126,24,21],[84,128,24,99,"adIconViewTag"],[84,141,24,21],[84,143,24,114,"clickable"],[84,152,24,21],[84,153],[98,35,26,24,"nativeAdViewTag"],[98,50],[98,52,26,41],[99,0,27,8],[99,15,27,15,"CTKNativeAdManager"],[99,33,27,33],[99,34,27,34,"triggerEvent"],[99,46,27,15],[99,47,27,47,"nativeAdViewTag"],[99,62,27,15],[99,63,27,8],[100,0,28,5],[105,17,73,15,"NativeAdsManager"],[105,33]]},"type":"js/module"}]}