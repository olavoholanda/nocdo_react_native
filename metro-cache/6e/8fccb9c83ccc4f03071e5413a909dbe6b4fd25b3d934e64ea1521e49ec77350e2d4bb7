{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"expo-app-auth","data":{"isAsync":false}},{"name":"expo-constants","data":{"isAsync":false}},{"name":"expo-errors","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.logInAsync = logInAsync;\n  exports.logOutAsync = logOutAsync;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _objectSpread2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectSpread\"));\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _expoAppAuth = _$$_REQUIRE(_dependencyMap[4], \"expo-app-auth\");\n\n  var _expoConstants = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"expo-constants\"));\n\n  var _expoErrors = _$$_REQUIRE(_dependencyMap[6], \"expo-errors\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[7], \"react-native\");\n\n  function logInAsync(config) {\n    var _config$behavior, behavior, userDefinedScopes, requiredScopes, scopes, clientId, logInResult, userInfoResponse, userInfo;\n\n    return _regenerator.default.async(function logInAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (_expoAppAuth.AppAuth.authAsync) {\n              _context.next = 2;\n              break;\n            }\n\n            throw new _expoErrors.UnavailabilityError('AppAuth', 'logInAsync');\n\n          case 2:\n            _config$behavior = config.behavior, behavior = _config$behavior === void 0 ? 'web' : _config$behavior;\n\n            if (behavior !== 'web') {\n              if (_expoConstants.default.appOwnership === 'expo') {\n                console.warn('Native Google Sign-In is only available in ExpoKit projects. Falling back to `web` behavior');\n              } else {\n                console.warn(\"Deprecated: Native Google Sign-In has been moved to Expo.GoogleSignIn ('expo-google-sign-in') Falling back to `web` behavior\");\n              }\n            }\n\n            userDefinedScopes = config.scopes || [];\n            requiredScopes = [].concat((0, _toConsumableArray2.default)(userDefinedScopes), ['profile', 'email', 'openid']);\n            scopes = (0, _toConsumableArray2.default)(new Set(requiredScopes));\n            clientId = config.clientId || _reactNative.Platform.select({\n              ios: config.iosClientId,\n              android: config.androidClientId,\n              web: config.clientId\n            });\n            _context.prev = 8;\n            _context.next = 11;\n            return _regenerator.default.awrap(_expoAppAuth.AppAuth.authAsync({\n              issuer: 'https://accounts.google.com',\n              scopes: scopes,\n              clientId: clientId\n            }));\n\n          case 11:\n            logInResult = _context.sent;\n            _context.next = 14;\n            return _regenerator.default.awrap(fetch('https://www.googleapis.com/userinfo/v2/me', {\n              headers: {\n                Authorization: \"Bearer \" + logInResult.accessToken\n              }\n            }));\n\n          case 14:\n            userInfoResponse = _context.sent;\n            _context.next = 17;\n            return _regenerator.default.awrap(userInfoResponse.json());\n\n          case 17:\n            userInfo = _context.sent;\n            return _context.abrupt(\"return\", (0, _objectSpread2.default)({\n              type: 'success'\n            }, logInResult, {\n              user: {\n                id: userInfo.id,\n                name: userInfo.name,\n                givenName: userInfo.given_name,\n                familyName: userInfo.family_name,\n                photoUrl: userInfo.picture,\n                email: userInfo.email\n              }\n            }));\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](8);\n\n            if (!(_context.t0.message.toLowerCase().indexOf('user cancelled') > -1)) {\n              _context.next = 25;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              type: 'cancel'\n            });\n\n          case 25:\n            throw _context.t0;\n\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this, [[8, 21]]);\n  }\n\n  function logOutAsync(_ref) {\n    var accessToken, clientId, config;\n    return _regenerator.default.async(function logOutAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            accessToken = _ref.accessToken, clientId = _ref.clientId;\n            config = {\n              issuer: 'https://accounts.google.com',\n              clientId: clientId\n            };\n            _context2.next = 4;\n            return _regenerator.default.awrap(_expoAppAuth.AppAuth.revokeAsync(config, {\n              token: accessToken,\n              isClientIdProvided: !!clientId\n            }));\n\n          case 4:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, this);\n  }\n});","map":[[16,0,1,0],[18,0,2,0],[20,0,3,0],[22,0,4,0],[24,0,5,7],[24,11,5,22,"logInAsync"],[24,21,5,7],[24,22,5,33,"config"],[24,28,5,7],[25,0,5,7],[27,0,5,7],[28,0,5,7],[29,0,5,7],[30,0,5,7],[31,0,5,7],[31,16,6,9,"AppAuth"],[31,37,6,17,"authAsync"],[31,46,5,7],[32,0,5,7],[33,0,5,7],[34,0,5,7],[36,0,5,7],[36,18,7,14],[36,22,7,18,"UnavailabilityError"],[36,53,7,14],[36,54,7,38],[36,63,7,14],[36,65,7,49],[36,77,7,14],[36,78,5,7],[38,0,5,7],[39,0,5,7],[39,31,9,33,"config"],[39,37,5,7],[39,38,9,12,"behavior"],[39,46,5,7],[39,48,9,12,"behavior"],[39,56,5,7],[39,89,9,23],[39,94,5,7],[41,0,10,4],[41,16,10,8,"behavior"],[41,24,10,16],[41,29,10,21],[41,34,10,4],[41,36,10,28],[42,0,11,8],[42,18,11,12,"Constants"],[42,41,11,22,"appOwnership"],[42,53,11,12],[42,58,11,39],[42,64,11,8],[42,66,11,47],[43,0,12,12,"console"],[43,16,12,12,"console"],[43,23,12,19],[43,24,12,20,"warn"],[43,28,12,12],[43,29,12,25],[43,122,12,12],[44,0,13,9],[44,15,11,8],[44,21,14,13],[45,0,15,12,"console"],[45,16,15,12,"console"],[45,23,15,19],[45,24,15,20,"warn"],[45,28,15,12],[45,29,15,25],[45,155,15,12],[46,0,16,9],[47,0,17,5],[49,0,18,10,"userDefinedScopes"],[49,12,18,10,"userDefinedScopes"],[49,29,5,7],[49,32,18,30,"config"],[49,38,18,36],[49,39,18,37,"scopes"],[49,45,18,30],[49,49,18,47],[49,51,5,7],[50,0,20,10,"requiredScopes"],[50,12,20,10,"requiredScopes"],[50,26,5,7],[50,72,20,31,"userDefinedScopes"],[50,89,5,7],[50,93,20,50],[50,102,5,7],[50,104,20,61],[50,111,5,7],[50,113,20,70],[50,121,5,7],[51,0,22,10,"scopes"],[51,12,22,10,"scopes"],[51,18,5,7],[51,54,22,23],[51,58,22,27,"Set"],[51,61,22,23],[51,62,22,31,"requiredScopes"],[51,76,22,23],[51,77,5,7],[52,0,24,10,"clientId"],[52,12,24,10,"clientId"],[52,20,5,7],[52,23,24,21,"config"],[52,29,24,27],[52,30,24,28,"clientId"],[52,38,24,21],[52,42,25,8,"Platform"],[52,64,25,17,"select"],[52,70,25,8],[52,71,25,24],[53,0,26,12,"ios"],[53,14,26,12,"ios"],[53,17,26,15],[53,19,26,17,"config"],[53,25,26,23],[53,26,26,24,"iosClientId"],[53,37,25,24],[54,0,27,12,"android"],[54,14,27,12,"android"],[54,21,27,19],[54,23,27,21,"config"],[54,29,27,27],[54,30,27,28,"androidClientId"],[54,45,25,24],[55,0,28,12,"web"],[55,14,28,12,"web"],[55,17,28,15],[55,19,28,17,"config"],[55,25,28,23],[55,26,28,24,"clientId"],[56,0,25,24],[56,13,25,8],[56,14,5,7],[57,0,5,7],[58,0,5,7],[59,0,5,7],[59,46,31,34,"AppAuth"],[59,67,31,42,"authAsync"],[59,76,31,34],[59,77,31,52],[60,0,32,12,"issuer"],[60,14,32,12,"issuer"],[60,20,32,18],[60,22,32,20],[60,51,31,52],[61,0,33,12,"scopes"],[61,14,33,12,"scopes"],[61,20,33,18],[61,22,33,12,"scopes"],[61,28,31,52],[62,0,34,12,"clientId"],[62,14,34,12,"clientId"],[62,22,34,20],[62,24,34,12,"clientId"],[63,0,31,52],[63,13,31,34],[63,14,5,7],[65,0,5,7],[66,0,31,14,"logInResult"],[66,12,31,14,"logInResult"],[66,23,5,7],[67,0,5,7],[68,0,5,7],[68,46,38,39,"fetch"],[68,51,38,44],[68,52,38,45],[68,95,38,44],[68,97,38,90],[69,0,39,12,"headers"],[69,14,39,12,"headers"],[69,21,39,19],[69,23,39,21],[70,0,39,23,"Authorization"],[70,16,39,23,"Authorization"],[70,29,39,36],[70,43,39,48,"logInResult"],[70,54,39,59],[70,55,39,60,"accessToken"],[71,0,39,21],[72,0,38,90],[72,13,38,44],[72,14,5,7],[74,0,5,7],[75,0,38,14,"userInfoResponse"],[75,12,38,14,"userInfoResponse"],[75,28,5,7],[76,0,5,7],[77,0,5,7],[77,46,41,31,"userInfoResponse"],[77,62,41,47],[77,63,41,48,"json"],[77,67,41,31],[77,69,5,7],[79,0,5,7],[80,0,41,14,"userInfo"],[80,12,41,14,"userInfo"],[80,20,5,7],[81,0,5,7],[82,0,43,12,"type"],[82,14,43,12,"type"],[82,18,43,16],[82,20,43,18],[83,0,5,7],[83,15,44,15,"logInResult"],[83,26,5,7],[84,0,45,12,"user"],[84,14,45,12,"user"],[84,18,45,16],[84,20,45,18],[85,0,46,16,"id"],[85,16,46,16,"id"],[85,18,46,18],[85,20,46,20,"userInfo"],[85,28,46,28],[85,29,46,29,"id"],[85,31,45,18],[86,0,47,16,"name"],[86,16,47,16,"name"],[86,20,47,20],[86,22,47,22,"userInfo"],[86,30,47,30],[86,31,47,31,"name"],[86,35,45,18],[87,0,48,16,"givenName"],[87,16,48,16,"givenName"],[87,25,48,25],[87,27,48,27,"userInfo"],[87,35,48,35],[87,36,48,36,"given_name"],[87,46,45,18],[88,0,49,16,"familyName"],[88,16,49,16,"familyName"],[88,26,49,26],[88,28,49,28,"userInfo"],[88,36,49,36],[88,37,49,37,"family_name"],[88,48,45,18],[89,0,50,16,"photoUrl"],[89,16,50,16,"photoUrl"],[89,24,50,24],[89,26,50,26,"userInfo"],[89,34,50,34],[89,35,50,35,"picture"],[89,42,45,18],[90,0,51,16,"email"],[90,16,51,16,"email"],[90,21,51,21],[90,23,51,23,"userInfo"],[90,31,51,31],[90,32,51,32,"email"],[91,0,45,18],[92,0,5,7],[94,0,5,7],[95,0,5,7],[96,0,5,7],[98,0,5,7],[98,18,56,12],[98,30,56,18,"message"],[98,37,56,12],[98,38,56,26,"toLowerCase"],[98,49,56,12],[98,52,56,40,"indexOf"],[98,59,56,12],[98,60,56,48],[98,76,56,12],[98,80,56,68],[98,81,56,69],[98,82,5,7],[99,0,5,7],[100,0,5,7],[101,0,5,7],[103,0,5,7],[103,45,57,19],[104,0,57,21,"type"],[104,14,57,21,"type"],[104,18,57,25],[104,20,57,27],[105,0,57,19],[105,13,5,7],[107,0,5,7],[108,0,5,7],[110,0,5,7],[111,0,5,7],[112,0,5,7],[113,0,5,7],[114,0,5,7],[115,0,5,7],[116,0,5,7],[118,0,62,7],[118,11,62,22,"logOutAsync"],[118,22,62,7],[119,0,62,7],[120,0,62,7],[121,0,62,7],[122,0,62,7],[123,0,62,7],[124,0,62,36,"accessToken"],[124,12,62,36,"accessToken"],[124,23,62,7],[124,31,62,36,"accessToken"],[124,42,62,7],[124,44,62,49,"clientId"],[124,52,62,7],[124,60,62,49,"clientId"],[124,68,62,7],[125,0,63,10,"config"],[125,12,63,10,"config"],[125,18,62,7],[125,21,63,19],[126,0,64,8,"issuer"],[126,14,64,8,"issuer"],[126,20,64,14],[126,22,64,16],[126,51,63,19],[127,0,65,8,"clientId"],[127,14,65,8,"clientId"],[127,22,65,16],[127,24,65,8,"clientId"],[128,0,63,19],[128,13,62,7],[129,0,62,7],[130,0,62,7],[130,46,67,17,"AppAuth"],[130,67,67,25,"revokeAsync"],[130,78,67,17],[130,79,67,37,"config"],[130,85,67,17],[130,87,67,45],[131,0,68,8,"token"],[131,14,68,8,"token"],[131,19,68,13],[131,21,68,15,"accessToken"],[131,32,67,45],[132,0,69,8,"isClientIdProvided"],[132,14,69,8,"isClientIdProvided"],[132,32,69,26],[132,34,69,28],[132,35,69,29],[132,36,69,30,"clientId"],[133,0,67,45],[133,13,67,17],[133,14,62,7],[135,0,62,7],[136,0,62,7],[138,0,62,7],[139,0,62,7],[140,0,62,7],[141,0,62,7],[142,0,62,7],[143,0,62,7],[144,0,62,7]]},"type":"js/module"}]}